var store = [{
        "title": "Post: Modified Date",
        "excerpt":"This post has been updated and should show a modified date if used in a layout.   All children, except one, grow up. They soon know that they will grow up, and the way Wendy knew was this. One day when she was two years old she was playing in a garden, and she plucked another flower and ran with it to her mother. I suppose she must have looked rather delightful, for Mrs. Darling put her hand to her heart and cried, â€œOh, why canâ€™t you remain like this for ever!â€ This was all that passed between them on the subject, but henceforth Wendy knew that she must grow up. You always know after you are two. Two is the beginning of the end.  ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-modified/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Standard",
        "excerpt":"All children, except one, grow up. They soon know that they will grow up, and the way Wendy knew was this. One day when she was two years old she was playing in a garden, and she plucked another flower and ran with it to her mother. I suppose she must have looked rather delightful, for Mrs. Darling put her hand to her heart and cried, â€œOh, why canâ€™t you remain like this for ever!â€ This was all that passed between them on the subject, but henceforth Wendy knew that she must grow up. You always know after you are two. Two is the beginning of the end.   Mrs. Darling first heard of Peter when she was tidying up her childrenâ€™s minds. It is the nightly custom of every good mother after her children are asleep to rummage in their minds and put things straight for next morning, repacking into their proper places the many articles that have wandered during the day.     This post has a manual excerpt &lt;!--more--&gt; set after the second paragraph. The following YAML Front Matter has also be applied:   excerpt_separator: \"&lt;!--more--&gt;\"   If you could keep awake (but of course you canâ€™t) you would see your own mother doing this, and you would find it very interesting to watch her. It is quite like tidying up drawers. You would see her on her knees, I expect, lingering humorously over some of your contents, wondering where on earth you had picked this thing up, making discoveries sweet and not so sweet, pressing this to her cheek as if it were as nice as a kitten, and hurriedly stowing that out of sight. When you wake in the morning, the naughtiness and evil passions with which you went to bed have been folded up small and placed at the bottom of your mind and on the top, beautifully aired, are spread out your prettier thoughts, ready for you to put on.   I donâ€™t know whether you have ever seen a map of a personâ€™s mind. Doctors sometimes draw maps of other parts of you, and your own map can become intensely interesting, but catch them trying to draw a map of a childâ€™s mind, which is not only confused, but keeps going round all the time. There are zigzag lines on it, just like your temperature on a card, and these are probably roads in the island, for the Neverland is always more or less an island, with astonishing splashes of colour here and there, and coral reefs and rakish-looking craft in the offing, and savages and lonely lairs, and gnomes who are mostly tailors, and caves through which a river runs, and princes with six elder brothers, and a hut fast going to decay, and one very small old lady with a hooked nose. It would be an easy map if that were all, but there is also first day at school, religion, fathers, the round pond, needle-work, murders, hangings, verbs that take the dative, chocolate pudding day, getting into braces, say ninety-nine, three-pence for pulling out your tooth yourself, and so on, and either these are part of the island or they are another map showing through, and it is all rather confusing, especially as nothing will stand still.   Of course the Neverlands vary a good deal. Johnâ€™s, for instance, had a lagoon with flamingoes flying over it at which John was shooting, while Michael, who was very small, had a flamingo with lagoons flying over it. John lived in a boat turned upside down on the sands, Michael in a wigwam, Wendy in a house of leaves deftly sewn together. John had no friends, Michael had friends at night, Wendy had a pet wolf forsaken by its parents, but on the whole the Neverlands have a family resemblance, and if they stood still in a row you could say of them that they have each otherâ€™s nose, and so forth. On these magic shores children at play are for ever beaching their coracles [simple boat]. We too have been there; we can still hear the sound of the surf, though we shall land no more.   Of all delectable islands the Neverland is the snuggest and most compact, not large and sprawly, you know, with tedious distances between one adventure and another, but nicely crammed. When you play at it by day with the chairs and table-cloth, it is not in the least alarming, but in the two minutes before you go to sleep it becomes very real. That is why there are night-lights.   Occasionally in her travels through her childrenâ€™s minds Mrs. Darling found things she could not understand, and of these quite the most perplexing was the word Peter. She knew of no Peter, and yet he was here and there in John and Michaelâ€™s minds, while Wendyâ€™s began to be scrawled all over with him. The name stood out in bolder letters than any of the other words, and as Mrs. Darling gazed she felt that it had an oddly cocky appearance.  ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-standard/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Chat",
        "excerpt":"Abbott: Strange as it may seem, they give ball players nowadays very peculiar names.   Costello: Funny names?   Abbott: Nicknames, nicknames. Now, on the St. Louis team we have Whoâ€™s on first, Whatâ€™s on second, I Donâ€™t Know is on thirdâ€“   Costello: Thatâ€™s what I want to find out. I want you to tell me the names of the fellows on the St. Louis team.   Abbott: Iâ€™m telling you. Whoâ€™s on first, Whatâ€™s on second, I Donâ€™t Know is on thirdâ€“   Costello: You know the fellowsâ€™ names?   Abbott: Yes.   Costello: Well, then whoâ€™s playing first?   Abbott: Yes.   Costello: I mean the fellowâ€™s name on first base.   Abbott: Who.   Costello: The fellow playinâ€™ first base.   Abbott: Who.   Costello: The guy on first base.   Abbott: Who is on first.   Costello: Well, what are you askinâ€™ me for?   Abbott: Iâ€™m not asking youâ€“Iâ€™m telling you. Who is on first.   Costello: Iâ€™m asking youâ€“whoâ€™s on first?   Abbott: Thatâ€™s the manâ€™s name.   Costello: Thatâ€™s whoâ€™s name?   Abbott: Yes.   Costello: When you pay off the first baseman every month, who gets the money?   Abbott: Every dollar of it. And why not, the manâ€™s entitled to it.   Costello: Who is?   Abbott: Yes.   Costello: So who gets it?   Abbott: Why shouldnâ€™t he? Sometimes his wife comes down and collects it.   Costello: Whoâ€™s wife?   Abbott: Yes. After all, the man earns it.   Costello: Who does?   Abbott: Absolutely.   Costello: Well, all Iâ€™m trying to find out is whatâ€™s the guyâ€™s name on first base?   Abbott: Oh, no, no. What is on second base.   Costello: Iâ€™m not asking you whoâ€™s on second.   Abbott: Whoâ€™s on first!   Costello: St. Louis has a good outfield?   Abbott: Oh, absolutely.   Costello: The left fielderâ€™s name?   Abbott: Why.   Costello: I donâ€™t know, I just thought Iâ€™d ask.   Abbott: Well, I just thought Iâ€™d tell you.   Costello: Then tell me whoâ€™s playing left field?   Abbott: Whoâ€™s playing first.   Costello: Stay out of the infield! The left fielderâ€™s name?   Abbott: Why.   Costello: Because.   Abbott: Oh, heâ€™s center field.   Costello: Wait a minute. You got a pitcher on this team?   Abbott: Wouldnâ€™t this be a fine team without a pitcher?   Costello: Tell me the pitcherâ€™s name.   Abbott: Tomorrow.   Costello: Now, when the guy at bat bunts the ballâ€“me being a good catcherâ€“I want to throw the guy out at first base, so I pick up the ball and throw it to who?   Abbott: Now, thatâ€™s he first thing youâ€™ve said right.   Costello: I DONâ€™T EVEN KNOW WHAT Iâ€™M TALKING ABOUT!   Abbott: Donâ€™t get excited. Take it easy.   Costello: I throw the ball to first base, whoever it is grabs the ball, so the guy runs to second. Who picks up the ball and throws it to what. What throws it to I donâ€™t know. I donâ€™t know throws it back to tomorrowâ€“a triple play.   Abbott: Yeah, it could be.   Costello: Another guy gets up and itâ€™s a long ball to center.   Abbott: Because.   Costello: Why? I donâ€™t know. And I donâ€™t care.   Abbott: What was that?   Costello: I said, I DONâ€™T CARE!   Abbott: Oh, thatâ€™s our shortstop!  ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-chat/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Notice",
        "excerpt":"A notice displays information that explains nearby content. Often used to call attention to a particular detail.   When using Kramdown {: .notice} can be added after a sentence to assign the .notice to the &lt;p&gt;&lt;/p&gt; element.   Changes in Service: We just updated our privacy policy here to better service our customers. We recommend reviewing the changes.   Primary Notice: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet.   Info Notice: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet.   Warning Notice: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet.   Danger Notice: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet.   Success Notice: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet.   Want to wrap several paragraphs or other elements in a notice? Using Liquid to capture the content and then filter it with markdownify is a good way to go.   {% capture notice-2 %} #### New Site Features  * You can now have cover images on blog pages * Drafts will now auto-save while writing {% endcapture %}  &lt;div class=\"notice\"&gt;{{ notice-2 | markdownify }}&lt;/div&gt;       New Site Features      You can now have cover images on blog pages   Drafts will now auto-save while writing     Or you could skip the capture and stick with straight HTML.   &lt;div class=\"notice\"&gt;   &lt;h4&gt;Message&lt;/h4&gt;   &lt;p&gt;A basic message.&lt;/p&gt; &lt;/div&gt;      Message    A basic message.   ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-notice/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Quote",
        "excerpt":"   Only one thing is impossible for God: To find any sense in any copyright law on the planet.       Mark Twain   ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-quote/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Link",
        "excerpt":"This theme supports link posts, made famous by John Gruber. To use, just add link: http://url-you-want-linked to the postâ€™s YAML front matter and youâ€™re done.      And this is how a quote looks.    Some link can also be shown.  ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/post-link/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Post: Twitter Embed",
        "excerpt":"ğŸ¨ æˆ‘çš„å¾®åš November 6, 2015&lt;/blockquote&gt;   This post tests Twitter Embeds.   ","categories": ["Blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/%E5%90%8C%E6%AD%A5twitter/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Layout: Post with Nested Table of Contents via Helper",
        "excerpt":"Tests table of contents with multiple levels to verify indentation is readible via helper include (deprecated).   {% include toc %}          ç›®å½•     Enim laboris id ea elit elit deserunt           2 Sit adipisicing tempor duis velit cupidatat occaecat do amet                   2.1 Ex et quis exercitation fugiat excepteur eiusmod mollit consequat id pariatur non adipisicing magna tempor                           2.1.1 Ut nostrud reprehenderit proident culpa enim irure cupidatat sunt ex ea minim nostrud               2.1.2 Nisi non nisi ullamco ipsum cillum               2.1.3 Ut pariatur do do eiusmod consequat do pariatur nisi ex anim reprehenderit nostrud                                   2.1.1.1 Ut aute quis ipsum fugiat dolor                   2.1.1.2 Consequat nostrud quis officia et aliquip quis magna mollit veniam                                           2.1.1.1.1 Id cillum proident labore occaecat reprehenderit excepteur fugiat est                       2.1.1.1.2 In consectetur ea qui quis culpa nulla                       2.1.1.1.3 Culpa magna pariatur magna officia adipisicing ex minim ea do est                       2.1.1.1.4 Veniam ipsum non reprehenderit pariatur                                                           2.1.1.3 Ut qui labore officia ad laboris eu amet minim tempor qui cupidatat duis aute                   2.1.1.4 Magna ipsum nisi velit anim                                           2.1.1.4.1 Mollit nulla est tempor fugiat occaecat nostrud                       2.1.1.2.1 Culpa aliquip irure et nostrud esse consequat fugiat dolor                                                                                       2.1.4 Laboris exercitation nisi tempor dolore                                   2.2 Officia irure duis et est sunt                       3 Laborum eu magna proident proident tempor                   3.1 Amet enim do laboris ipsum aliqua eiusmod non eu           3.2 Do exercitation ex elit incididunt sit cupidatat           3.3 Officia aliquip fugiat ex pariatur nisi et nostrud adipisicing eu minim laboris eiusmod ea sunt           3.4 Ipsum velit laborum est nostrud qui enim ullamco velit dolor Lorem magna           3.5 Officia fugiat fugiat voluptate ullamco eiusmod duis minim aliqua consequat consectetur qui do sunt fugiat                           3.5.1 Mollit laborum ea aliquip mollit quis commodo fugiat tempor deserunt exercitation sint culpa ipsum tempor                                   3.5.1.1 Nisi anim commodo consequat quis amet                                           3.5.1.1.1 Culpa nulla Lorem adipisicing ut sit cupidatat laborum laborum cupidatat proident                                                                                                           3.6 Reprehenderit culpa consectetur veniam minim cillum in nostrud                       4 Laboris aute consequat id eu et Lorem amet       5 Esse eu consequat consequat aliqua fugiat nulla ad labore consectetur eu pariatur nisi aute       6 Aliquip sunt laborum excepteur cupidatat officia ad tempor veniam esse amet ea commodo sunt                Enim laboris id ea elit elit deserunt   Magna incididunt elit id enim nisi quis excepteur reprehenderit Lorem dolore dolore ad enim. Labore esse elit excepteur et elit dolor. Elit ut consectetur labore velit elit esse voluptate id commodo. Magna cillum officia consequat non occaecat mollit esse nisi quis.   Nostrud veniam excepteur commodo enim pariatur velit est. Dolor consequat elit occaecat enim veniam ullamco qui est anim ex elit. Est minim aute magna laborum reprehenderit magna reprehenderit ullamco voluptate id sit aliqua. Id labore veniam ad duis aliquip commodo qui ex ut ipsum irure. In et sit ea cupidatat consectetur in nisi amet in cupidatat excepteur commodo amet.   2 Sit adipisicing tempor duis velit cupidatat occaecat do amet   Ad non dolore irure in. In do ut nostrud reprehenderit consequat aliqua sunt culpa voluptate amet minim ea. Eu dolore deserunt consectetur eu in minim sit nulla id id est amet consectetur. Tempor dolore ipsum magna amet velit aliquip ea anim non eu Lorem deserunt. Irure excepteur id adipisicing elit dolor ipsum eiusmod non nulla nisi sint qui et. Occaecat pariatur tempor ex nisi pariatur.   Proident culpa nostrud id est qui fugiat duis aute. Cillum commodo pariatur nostrud culpa Lorem exercitation non. Consequat elit deserunt dolore voluptate sunt labore minim ut consequat minim.   Sunt pariatur in ex non nulla proident ex ullamco Lorem do ipsum. Cillum est mollit reprehenderit excepteur labore labore elit dolore adipisicing ad quis quis aliqua sunt. Proident amet est reprehenderit deserunt amet cupidatat incididunt irure est elit.   2.1 Ex et quis exercitation fugiat excepteur eiusmod mollit consequat id pariatur non adipisicing magna tempor   Nostrud sunt nostrud incididunt adipisicing officia esse minim irure duis dolore adipisicing cupidatat. Eu non labore veniam ad sunt pariatur qui. Irure reprehenderit qui elit duis cillum sit officia consectetur sint deserunt do aute velit. Do id occaecat magna occaecat reprehenderit veniam pariatur Lorem. Officia sit cupidatat adipisicing laborum.   2.1.1 Ut nostrud reprehenderit proident culpa enim irure cupidatat sunt ex ea minim nostrud   Laborum laboris et ut proident sit qui pariatur nisi commodo. Deserunt eiusmod eiusmod elit anim exercitation quis. Anim laboris irure minim elit fugiat velit esse officia amet reprehenderit id. Dolor eiusmod incididunt excepteur sint aute qui esse nostrud. Nisi qui adipisicing consectetur enim pariatur sint veniam esse.   2.1.2 Nisi non nisi ullamco ipsum cillum  Minim officia tempor eiusmod sint magna reprehenderit do amet ex velit. Irure nulla ut veniam eu veniam proident esse pariatur cillum. Esse anim et proident cillum esse magna sint.   2.1.3 Ut pariatur do do eiusmod consequat do pariatur nisi ex anim reprehenderit nostrud  Reprehenderit consectetur tempor labore dolore ad. Ullamco qui sunt quis deserunt id ipsum sit qui nisi esse deserunt ad exercitation. Dolore qui in mollit ex qui minim et ipsum reprehenderit. Tempor magna ipsum proident voluptate mollit quis consectetur veniam non aliquip cupidatat nisi culpa aute.   2.1.1.1 Ut aute quis ipsum fugiat dolor  Occaecat excepteur et ea et exercitation ad aute minim incididunt incididunt aute sint officia aliquip. Quis cupidatat nostrud dolor consequat laboris eu ullamco qui esse excepteur aute. Veniam ut ipsum aute Lorem proident minim ea fugiat Lorem cillum. Qui esse id minim consequat ullamco aliqua pariatur ea mollit. Minim ea ipsum laborum consequat esse mollit pariatur. Voluptate sit voluptate non ut consectetur irure laboris ex adipisicing dolore elit aliquip velit. In eu veniam voluptate incididunt aute eu reprehenderit ut id voluptate.   2.1.1.2 Consequat nostrud quis officia et aliquip quis magna mollit veniam  Magna duis exercitation dolor amet. Ea irure laborum sit officia reprehenderit enim aute magna duis. Elit fugiat ut proident sit.   2.1.1.1.1 Id cillum proident labore occaecat reprehenderit excepteur fugiat est   Irure qui veniam incididunt irure consequat mollit consectetur est nostrud deserunt eiusmod nostrud quis. Eiusmod id proident eu aute exercitation irure consectetur sit dolor dolor in esse. Qui eu dolor ea est magna amet laborum qui irure. Reprehenderit excepteur voluptate fugiat exercitation voluptate laboris nostrud qui magna et officia.   2.1.1.1.2 In consectetur ea qui quis culpa nulla   Ad quis duis dolore voluptate laborum eiusmod consequat sint. Cupidatat officia ex laborum ad non mollit excepteur ea. Nostrud elit in consequat sunt adipisicing reprehenderit ipsum proident irure. Sint velit laborum sint laboris ea. Veniam occaecat et in Lorem proident minim deserunt labore laborum reprehenderit. Consequat laborum deserunt culpa consectetur. Incididunt reprehenderit amet esse duis dolore pariatur adipisicing quis elit.   2.1.1.1.3 Culpa magna pariatur magna officia adipisicing ex minim ea do est   Dolore reprehenderit aute ex id. Ipsum laboris sit quis enim labore ut sint cillum exercitation. Commodo aliqua exercitation enim sunt velit do laborum mollit irure dolor.   2.1.1.1.4 Veniam ipsum non reprehenderit pariatur   Laboris amet quis sunt id dolor consectetur Lorem id aliquip laboris fugiat. Non ex magna deserunt veniam eiusmod. Irure culpa culpa dolore pariatur. Elit enim deserunt ut amet adipisicing elit laborum exercitation cupidatat et. Aliqua aliqua laborum exercitation commodo reprehenderit reprehenderit amet laboris ea ea ex amet in. Aute minim voluptate et ipsum culpa consequat.   2.1.1.3 Ut qui labore officia ad laboris eu amet minim tempor qui cupidatat duis aute   In in dolore laboris irure est consequat magna ea non aute cupidatat tempor. Officia sit pariatur consequat laborum aliqua nulla anim nisi aliquip reprehenderit consequat. Ad duis labore minim consequat reprehenderit labore ex minim cillum magna incididunt adipisicing dolor. Non velit mollit minim consectetur minim. Cillum elit et amet est reprehenderit non. Elit adipisicing nostrud ea veniam occaecat commodo deserunt.   2.1.1.4 Magna ipsum nisi velit anim   Eiusmod tempor dolor proident pariatur consequat sit non nostrud. Eiusmod duis elit esse Lorem dolore et minim elit consectetur eu ullamco. Adipisicing sunt excepteur eu mollit in nostrud.   2.1.1.4.1 Mollit nulla est tempor fugiat occaecat nostrud   Exercitation eu labore Lorem culpa id enim ut officia aute proident in est irure. Nostrud adipisicing magna elit tempor ipsum culpa in incididunt consectetur incididunt veniam aute tempor sint. Officia est consectetur sint sint nostrud proident mollit. Dolore duis proident mollit consectetur tempor.   2.1.1.2.1 Culpa aliquip irure et nostrud esse consequat fugiat dolor   Ad ut commodo elit amet officia ipsum labore do amet. Eiusmod sint irure magna proident nisi adipisicing mollit excepteur mollit proident culpa duis. Est reprehenderit consequat eiusmod deserunt duis ipsum esse amet incididunt.   2.1.4 Laboris exercitation nisi tempor dolore   Elit culpa est eiusmod nostrud occaecat. Labore incididunt nostrud consectetur sint. Ut pariatur laborum incididunt culpa proident incididunt veniam veniam laboris adipisicing mollit. Ullamco magna tempor fugiat veniam in ipsum nisi mollit labore amet et sit quis. In consectetur fugiat Lorem culpa veniam minim. Irure aliqua est mollit consectetur id Lorem velit minim sit velit. Eiusmod magna do dolor est id reprehenderit minim fugiat minim incididunt incididunt laboris velit consequat.   2.2 Officia irure duis et est sunt   Consequat anim quis non nulla. Eiusmod pariatur sunt non culpa culpa ipsum nulla anim in. Non ad exercitation ut reprehenderit ut dolor laborum tempor ad qui magna fugiat irure. Sint commodo ea sint sunt. Irure qui pariatur tempor veniam reprehenderit amet est. Amet laboris proident Lorem deserunt proident duis esse do sit eu dolor qui duis eu. Mollit laboris nisi aute nulla consectetur exercitation nulla aliqua anim.   3 Laborum eu magna proident proident tempor   Occaecat aliqua id voluptate mollit aliquip. Elit excepteur magna esse commodo pariatur reprehenderit in in quis. Id dolore proident proident mollit tempor duis magna ullamco nulla velit consequat. In ut est aliquip in commodo ullamco sit sint.   3.1 Amet enim do laboris ipsum aliqua eiusmod non eu   Laborum magna deserunt do anim quis proident adipisicing. Dolore qui ex minim reprehenderit. Consectetur in cillum ad dolore ut id deserunt irure aute sint magna dolore adipisicing.   3.2 Do exercitation ex elit incididunt sit cupidatat   Excepteur aliqua nisi ullamco sunt fugiat laborum elit aliquip officia culpa. Est exercitation enim laborum amet exercitation. Eu quis qui eiusmod incididunt id do aliquip nostrud do esse enim excepteur enim pariatur. Aute adipisicing velit non culpa quis exercitation. Quis cupidatat anim occaecat Lorem ad mollit aute eiusmod quis dolor duis. Proident anim et nostrud ut aliquip irure adipisicing reprehenderit proident dolore magna. Consequat eu fugiat esse proident duis eu proident fugiat laboris ea veniam nisi reprehenderit.   3.3 Officia aliquip fugiat ex pariatur nisi et nostrud adipisicing eu minim laboris eiusmod ea sunt   Consectetur irure elit nulla elit non officia. Culpa Lorem minim dolor laboris enim labore do minim laborum. Fugiat deserunt nisi ut do incididunt incididunt ea anim exercitation sit duis. Irure esse pariatur labore enim labore qui anim culpa laborum velit consequat. Culpa in adipisicing excepteur est ipsum. In reprehenderit eiusmod ad ad non.   3.4 Ipsum velit laborum est nostrud qui enim ullamco velit dolor Lorem magna   Nulla magna dolor minim commodo. Sunt nulla cupidatat consequat eiusmod elit irure eiusmod excepteur. Sit incididunt irure minim magna. Tempor ipsum exercitation minim sunt labore dolor ullamco veniam enim nisi veniam adipisicing occaecat proident.   3.5 Officia fugiat fugiat voluptate ullamco eiusmod duis minim aliqua consequat consectetur qui do sunt fugiat   Non aute culpa irure qui aute adipisicing aute id commodo id. Laborum ullamco laboris velit in quis duis ut consequat do minim. In minim amet ut reprehenderit et voluptate. In quis Lorem occaecat nostrud excepteur nostrud dolore in nulla ad Lorem nisi. Dolor exercitation Lorem qui sint aute ipsum officia eiusmod aliquip Lorem sit. Reprehenderit ex veniam excepteur laboris magna dolore fugiat sit exercitation esse et consequat in sit. Incididunt pariatur ad esse anim aute do id eu.   3.5.1 Mollit laborum ea aliquip mollit quis commodo fugiat tempor deserunt exercitation sint culpa ipsum tempor   Est cillum laborum cupidatat ullamco cupidatat magna laborum enim duis consequat est eu. Magna cillum Lorem proident non ut officia. Esse irure et laboris eu occaecat aute.   3.5.1.1 Nisi anim commodo consequat quis amet   Sunt eu dolor enim enim consectetur et anim irure dolor velit cillum. Esse reprehenderit cillum incididunt adipisicing amet nostrud adipisicing. Minim mollit nostrud ipsum ea ut sit ex elit. Do esse ad et ipsum nisi sint anim culpa excepteur ipsum. Commodo nisi irure qui reprehenderit incididunt.   3.5.1.1.1 Culpa nulla Lorem adipisicing ut sit cupidatat laborum laborum cupidatat proident   Dolore dolor sit sunt anim eu amet consectetur quis ea proident ex aliqua. Sunt laborum consectetur consectetur enim velit eiusmod labore commodo commodo laboris deserunt. Eiusmod enim do amet laborum commodo qui.   3.6 Reprehenderit culpa consectetur veniam minim cillum in nostrud   Lorem dolore sit aliqua tempor do voluptate ut esse. Minim velit ad velit commodo minim laborum. Qui qui reprehenderit non proident ullamco veniam aliquip.   4 Laboris aute consequat id eu et Lorem amet   Ad qui voluptate dolor veniam. Veniam mollit aute eiusmod eu labore incididunt sint proident. Non minim consequat anim sint. Aliquip non nisi nostrud proident. Eiusmod ut duis commodo sunt laboris irure eu. Laboris quis amet ad qui officia.   5 Esse eu consequat consequat aliqua fugiat nulla ad labore consectetur eu pariatur nisi aute   Duis proident ullamco fugiat aliqua sunt anim ea do irure est amet quis nulla cillum. Commodo voluptate dolor culpa sint aliquip voluptate exercitation anim cillum ad eu in amet. Sint fugiat qui commodo quis ex eu commodo officia aliquip irure. Non dolore elit excepteur id laboris irure consequat magna consectetur. Qui proident deserunt culpa tempor sit aute velit proident cillum ea.   6 Aliquip sunt laborum excepteur cupidatat officia ad tempor veniam esse amet ea commodo sunt   Ex minim pariatur est nisi exercitation exercitation reprehenderit id aliqua deserunt est. Laborum ullamco do ipsum minim ipsum aliquip voluptate voluptate aliqua. Magna proident velit veniam et minim commodo officia officia mollit nisi. Excepteur occaecat deserunt irure adipisicing minim adipisicing cupidatat non anim exercitation ex. Amet quis sunt sint veniam non id nisi ipsum mollit voluptate quis tempor tempor.  ","categories": [],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/%E6%96%87%E6%A1%A3%E6%A8%A1%E6%9D%BF/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Welcome to Jekyll!",
        "excerpt":"Youâ€™ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.   To add new posts, simply add a file in the _posts directory that follows the convention YYYY-MM-DD-name-of-post.ext and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.   Jekyll also offers powerful support for code snippets:   def print_hi(name)   puts \"Hi, #{name}\" end print_hi('Tom') #=&gt; prints 'Hi, Tom' to STDOUT.   Check out the Jekyll docs for more info on how to get the most out of Jekyll. File all bugs/feature requests at Jekyllâ€™s GitHub repo. If you have questions, you can ask them on Jekyll Talk.   ","categories": ["blog"],
        "tags": ["Jekyll"],
        "url": "/jekyll-blog/blog/welcome-to-jekyll/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "æ­¦æ±‰å°ç±³é¢è¯•å…«è‚¡æ–‡",
        "excerpt":"æ­¦æ±‰å°ç±³é¢è¯•é¢˜          ç›®å½•     Object awaitã€‚notifyã€‚åŒºåˆ«ï¼Œç›´æ¥å¯ä»¥ç”¨awaitå—ï¼Ÿ   hashcode å’Œequals åŒºåˆ«ï¼Œæœ‰ä»€ä¹ˆä½œç”¨?   çº¿ç¨‹æ± è¿è¡ŒåŸç†   å¤šçº¿ç¨‹åŒæ­¥çš„å‡ ç§æ–¹å¼   mavençš„ç”Ÿå‘½å‘¨æœŸ   å¼€é—­åŸåˆ™è§£é”ä¸€ä¸‹   å•ä¸€æŒ‡è´£è§£é‡Šä¸€ä¸‹   hashmap æ€ä¹ˆæ ¹æ®keyå–å¾—å€¼ï¼Œè¯´ä¸€ä¸‹æµç¨‹   CAS èŠä¸€ä¸‹   git å’Œ svn ä»€ä¹ˆåŒºåˆ«ï¼Ÿ   Httpåè®®        Object awaitã€‚notifyã€‚åŒºåˆ«ï¼Œç›´æ¥å¯ä»¥ç”¨awaitå—ï¼Ÿ   wait() - æ–¹æ³•wait()çš„ä½œç”¨æ˜¯ä½¿å½“å‰æ‰§è¡Œä»£ç çš„çº¿ç¨‹è¿›è¡Œç­‰å¾…ï¼Œå®ƒæ˜¯Objectç±»çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨æ¥å°†å½“å‰çº¿ç¨‹ç½®å…¥é¢„æ‰§è¡Œé˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¸”åœ¨waitæ‰€åœ¨çš„ä»£ç è¡Œå¤„åœæ­¢æ‰§è¡Œï¼Œç›´åˆ°æ¥åˆ°é€šçŸ¥æˆ–è¢«ä¸­æ–­ä¸ºæ­¢ã€‚åœ¨è°ƒç”¨waitæ–¹æ³•ä¹‹å‰ï¼Œçº¿ç¨‹å¿…é¡»è·å¾—è¯¥å¯¹è±¡çš„å¯¹è±¡çº§åˆ«é”ï¼Œå³åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥å—ä¸­è°ƒç”¨waitæ–¹æ³•ã€‚   notify() - åŒwaitæ–¹æ³•ä¸€æ ·ï¼Œä¹Ÿéœ€è¦åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥å—ä¸­è°ƒç”¨ï¼Œå³åœ¨è°ƒç”¨å‰ï¼Œçº¿ç¨‹ä¹Ÿå¿…é¡»è·å¾—è¯¥å¯¹è±¡çš„å¯¹è±¡çº§åˆ«é”ã€‚ waitå’Œnotifyè°ƒç”¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒæœ‰é€‚å½“çš„é”ï¼Œå°†ä¼šæŠ›å‡ºIllegalMonitorStateExceptionçš„å¼‚å¸¸ã€‚å®ƒæ˜¯ä¸€ä¸ªRuntimeExceptionçš„å­ç±»ã€‚   hashcode å’Œequals åŒºåˆ«ï¼Œæœ‰ä»€ä¹ˆä½œç”¨?      equal()ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ä»–ä»¬çš„hashCode()è‚¯å®šç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯ç”¨equal()å¯¹æ¯”æ˜¯ç»å¯¹å¯é çš„ã€‚   hashCode()ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ä»–ä»¬çš„equal()ä¸ä¸€å®šç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯hashCode()ä¸æ˜¯ç»å¯¹å¯é çš„ã€‚   ä¸€è‡´æ€§ï¼Œå³ï¼šå½“ä¸¤ä¸ªå¯¹è±¡ equals æ¯”è¾ƒä¸º trueï¼Œé‚£ä¹ˆ hashcode å€¼åº”å½“ç›¸ç­‰ï¼Œåä¹‹äº¦ç„¶ï¼Œå› ä¸ºå½“ä¸¤ä¸ªå¯¹è±¡hashcode å€¼ç›¸ç­‰ï¼Œä½†æ˜¯ equals æ¯”è¾ƒä¸º falseï¼Œé‚£ä¹ˆåœ¨ HashMap ä¸­ä¼šäº§ç”Ÿé“¾è¡¨ï¼Œå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚   æˆå¯¹é‡å†™ï¼Œå³é‡å†™ equals å°±åº”å½“é‡å†™ hashcodeã€‚å®é™…ä¸Šè¿™åªæ˜¯ä¸€æ¡è§„èŒƒï¼Œå¦‚æœä¸è¿™æ ·åšç¨‹åºä¹Ÿå¯ä»¥æ‰§è¡Œï¼Œåªä¸è¿‡ä¼šéšè—bugã€‚ä¸€èˆ¬ä¸€ä¸ªç±»çš„å¯¹è±¡å¦‚æœä¼šå­˜å‚¨åœ¨HashTableï¼ŒHashSet,HashMapç­‰æ•£åˆ—å­˜å‚¨ç»“æ„ä¸­ï¼Œé‚£ä¹ˆé‡å†™equalsåæœ€å¥½ä¹Ÿé‡å†™hashCodeï¼Œå¦åˆ™ä¼šå¯¼è‡´å­˜å‚¨æ•°æ®çš„ä¸å”¯ä¸€æ€§ï¼ˆå­˜å‚¨äº†ä¸¤ä¸ªequalsç›¸ç­‰çš„æ•°æ®ï¼‰,å› ä¸ºmapç»“æ„ä¸­çš„keyå¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å€¼ç›¸åŒä½†åœ°å€ä¸åŒï¼Œåˆ™å–å‡ºvalueä¼šå‡ºç°é—®é¢˜ã€‚è€Œå¦‚æœç¡®å®šä¸ä¼šå­˜å‚¨åœ¨è¿™äº›æ•£åˆ—ç»“æ„ä¸­ï¼Œåˆ™å¯ä»¥ä¸é‡å†™hashCodeã€‚   çº¿ç¨‹æ± è¿è¡ŒåŸç†   é¦–å…ˆçº¿ç¨‹æ± æœ‰å‡ ä¸ªæ ¸å¿ƒçš„å‚æ•°æ¦‚å¿µï¼š      æœ€å¤§çº¿ç¨‹æ•°maximumPoolSize   æ ¸å¿ƒçº¿ç¨‹æ•°corePoolSize   æ´»è·ƒæ—¶é—´keepAliveTime   é˜»å¡é˜Ÿåˆ—workQueue   æ‹’ç»ç­–ç•¥RejectedExecutionHandler   å½“æäº¤ä¸€ä¸ªæ–°ä»»åŠ¡åˆ°çº¿ç¨‹æ± æ—¶ï¼Œå…·ä½“çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š      å½“æˆ‘ä»¬æäº¤ä»»åŠ¡ï¼Œçº¿ç¨‹æ± ä¼šæ ¹æ®corePoolSizeå¤§å°åˆ›å»ºè‹¥å¹²ä»»åŠ¡æ•°é‡çº¿ç¨‹æ‰§è¡Œä»»åŠ¡   å½“ä»»åŠ¡çš„æ•°é‡è¶…è¿‡corePoolSizeæ•°é‡ï¼Œåç»­çš„ä»»åŠ¡å°†ä¼šè¿›å…¥é˜»å¡é˜Ÿåˆ—é˜»å¡æ’é˜Ÿ   å½“é˜»å¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ä¹‹åï¼Œé‚£ä¹ˆå°†ä¼šç»§ç»­åˆ›å»º(maximumPoolSize-corePoolSize)ä¸ªæ•°é‡çš„çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡å¤„ç†å®Œæˆï¼ŒmaximumPoolSize-corePoolSizeé¢å¤–åˆ›å»ºçš„çº¿ç¨‹ç­‰å¾…keepAliveTimeä¹‹åè¢«è‡ªåŠ¨é”€æ¯   å¦‚æœè¾¾åˆ°maximumPoolSizeï¼Œé˜»å¡é˜Ÿåˆ—è¿˜æ˜¯æ»¡çš„çŠ¶æ€ï¼Œé‚£ä¹ˆå°†æ ¹æ®ä¸åŒçš„æ‹’ç»ç­–ç•¥å¯¹åº”å¤„ç†.   å¤šçº¿ç¨‹åŒæ­¥çš„å‡ ç§æ–¹å¼      å‚è€ƒ: https://blog.csdn.net/yoonerloop/article/details/81154596       é€šè¿‡Objectçš„waitå’Œnotify   é€šè¿‡Conditionçš„awiatå’Œsignal   é€šè¿‡ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—   é€šè¿‡ä¸¤ä¸ªé˜»å¡é˜Ÿåˆ—   é€šè¿‡SynchronousQueue   é€šè¿‡çº¿ç¨‹æ± çš„Callbackå›è°ƒ   é€šè¿‡åŒæ­¥è¾…åŠ©ç±»CountDownLatch   é€šè¿‡åŒæ­¥è¾…åŠ©ç±»CyclicBarrier   mavençš„ç”Ÿå‘½å‘¨æœŸ   Mavençš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯å¯¹æ‰€æœ‰çš„æ„å»ºè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡å’Œç»Ÿä¸€ã€‚åŒ…å«äº†é¡¹ç›®çš„æ¸…ç†ã€åˆå§‹åŒ–ã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€é›†æˆæµ‹è¯•ã€éªŒè¯ã€éƒ¨ç½²å’Œç«™ç‚¹ç”Ÿæˆç­‰å‡ ä¹æ‰€æœ‰çš„æ„å»ºæ­¥éª¤ã€‚ Mavençš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŠ½è±¡çš„ï¼Œå³ç”Ÿå‘½å‘¨æœŸä¸åšä»»ä½•å®é™…çš„å·¥ä½œï¼Œå®é™…ä»»åŠ¡ç”±æ’ä»¶å®Œæˆï¼Œç±»ä¼¼äºè®¾è®¡æ¨¡å¼ä¸­çš„æ¨¡æ¿æ–¹æ³•ã€‚ cleanã€validateã€complieã€testã€packageã€verifyã€installã€siteã€deploy ä¸»è¦æŠŠè¿™ä¸ªæµç¨‹è¯´æ¸…æ¥šæˆ‘è§‰å¾—ä¹ŸæŒºå¥½çš„äº†   å¼€é—­åŸåˆ™è§£é”ä¸€ä¸‹   å¼€é—­åŸåˆ™å°±æ˜¯è¯´å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚æ‰€ä»¥ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼šä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚   å•ä¸€æŒ‡è´£è§£é‡Šä¸€ä¸‹   å•ä¸€æ€§åŸåˆ™ä¸€èˆ¬æŒ‡è®¾è®¡æ¥å£æ—¶ï¼Œæ¥å£çš„åŠŸèƒ½å•ä¸€ä¸å¯åˆ†ã€‚ç›®çš„è¿˜æ˜¯æé«˜æ¥å£çš„é€šç”¨æ€§ï¼Œåšåˆ°å®ç°ä¸€ä¸ªæ¥å£ï¼Œå…¶æ–¹æ³•å°½é‡éƒ½å¯ä»¥ç”¨çš„åˆ°ã€‚ å•ä¸€èŒè´£åŸåˆ™è§„å®šä¸€ä¸ªç±»åº”è¯¥æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œå¦åˆ™ç±»åº”è¯¥è¢«æ‹†åˆ†ã€‚ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç±»çš„è®¾è®¡å°½é‡åšåˆ°åªæœ‰ä¸€ä¸ªåŸå› å¼•èµ·å˜åŒ–ï¼Œæ¥å£ä¸€å®šè¦åšåˆ°å•ä¸€èŒè´£åŸåˆ™ï¼Œæ–¹æ³•ä¸€å®šè¦åšåˆ°å•ä¸€èŒè´£åŸåˆ™ï¼Œå³ä¸€ä¸ªæ–¹æ³•åªå®ç°ä¸€ä¸ªåŠŸèƒ½ã€‚ æ¨¡æ¿è®¾è®¡æ¨¡å¼è¯´ä¸€ä¸‹ ä¸€ä¸ªæŠ½è±¡ç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸»æ–¹æ³•ï¼Œå†å®šä¹‰1â€¦nä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å®é™…çš„æ–¹æ³•ï¼Œå®šä¹‰ä¸€ä¸ªç±»ï¼Œç»§æ‰¿è¯¥æŠ½è±¡ç±»ï¼Œé‡å†™æŠ½è±¡æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨æŠ½è±¡ç±»ï¼Œå®ç°å¯¹å­ç±»çš„è°ƒç”¨ã€‚ åº”ç”¨åœºæ™¯ï¼ŒæŠ½è±¡çš„ä¸Šä¼ æ–‡ä»¶æ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„è·å–å›¾ç‰‡æ¥å£çš„åœ°å€ï¼Œæ ¹æ®å­ç±»å…·ä½“çš„å®ç°è·å–ä¸åŒä¸Šä¼ åœ°å€ã€‚   hashmap æ€ä¹ˆæ ¹æ®keyå–å¾—å€¼ï¼Œè¯´ä¸€ä¸‹æµç¨‹   HashMapä¸»è¦ç”±æ•°ç»„å’Œé“¾è¡¨ç»„æˆï¼Œä»–ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚æ ¸å¿ƒçš„ç‚¹å°±æ˜¯putæ’å…¥æ•°æ®çš„è¿‡ç¨‹ï¼ŒgetæŸ¥è¯¢æ•°æ®ä»¥åŠæ‰©å®¹çš„æ–¹å¼ã€‚JDK1.7å’Œ1.8çš„ä¸»è¦åŒºåˆ«åœ¨äºå¤´æ’å’Œå°¾æ’æ–¹å¼çš„ä¿®æ”¹ï¼Œå¤´æ’å®¹æ˜“å¯¼è‡´HashMapé“¾è¡¨æ­»å¾ªç¯ï¼Œå¹¶ä¸”1.8ä¹‹ååŠ å…¥çº¢é»‘æ ‘å¯¹æ€§èƒ½æœ‰æå‡ã€‚   putæ’å…¥æ•°æ®æµç¨‹   å¾€mapæ’å…¥å…ƒç´ çš„æ—¶å€™é¦–å…ˆé€šè¿‡å¯¹key hashç„¶åä¸æ•°ç»„é•¿åº¦-1è¿›è¡Œä¸è¿ç®—((n-1)&amp;hash)ï¼Œéƒ½æ˜¯2çš„æ¬¡å¹‚æ‰€ä»¥ç­‰åŒäºå–æ¨¡ï¼Œä½†æ˜¯ä½è¿ç®—çš„æ•ˆç‡æ›´é«˜ã€‚æ‰¾åˆ°æ•°ç»„ä¸­çš„ä½ç½®ä¹‹åï¼Œå¦‚æœæ•°ç»„ä¸­æ²¡æœ‰å…ƒç´ ç›´æ¥å­˜å…¥ï¼Œåä¹‹åˆ™åˆ¤æ–­keyæ˜¯å¦ç›¸åŒï¼Œkeyç›¸åŒå°±è¦†ç›–ï¼Œå¦åˆ™å°±ä¼šæ’å…¥åˆ°é“¾è¡¨çš„å°¾éƒ¨ï¼Œå¦‚æœé“¾è¡¨çš„é•¿åº¦è¶…è¿‡8ï¼Œåˆ™ä¼šè½¬æ¢æˆçº¢é»‘æ ‘ï¼Œæœ€ååˆ¤æ–­æ•°ç»„é•¿åº¦æ˜¯å¦è¶…è¿‡é»˜è®¤çš„é•¿åº¦*è´Ÿè½½å› å­ä¹Ÿå°±æ˜¯12ï¼Œè¶…è¿‡åˆ™è¿›è¡Œæ‰©å®¹ã€‚   getæŸ¥è¯¢æ•°æ®   æŸ¥è¯¢æ•°æ®ç›¸å¯¹æ¥è¯´å°±æ¯”è¾ƒç®€å•äº†ï¼Œé¦–å…ˆè®¡ç®—å‡ºhashå€¼ï¼Œç„¶åå»æ•°ç»„æŸ¥è¯¢ï¼Œæ˜¯çº¢é»‘æ ‘å°±å»çº¢é»‘æ ‘æŸ¥ï¼Œé“¾è¡¨å°±éå†é“¾è¡¨æŸ¥è¯¢å°±å¯ä»¥äº†ã€‚   resizeæ‰©å®¹è¿‡ç¨‹   æ‰©å®¹çš„è¿‡ç¨‹å°±æ˜¯å¯¹keyé‡æ–°è®¡ç®—hashï¼Œç„¶åæŠŠæ•°æ®æ‹·è´åˆ°æ–°çš„æ•°ç»„ã€‚   CAS èŠä¸€ä¸‹   CASå«åšCompareAndSwapï¼Œæ¯”è¾ƒå¹¶äº¤æ¢ï¼Œä¸»è¦æ˜¯é€šè¿‡å¤„ç†å™¨çš„æŒ‡ä»¤æ¥ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œå®ƒåŒ…å«ä¸‰ä¸ªæ“ä½œæ•°ï¼š   å˜é‡å†…å­˜åœ°å€ï¼ŒVè¡¨ç¤º æ—§çš„é¢„æœŸå€¼ï¼ŒAè¡¨ç¤º å‡†å¤‡è®¾ç½®çš„æ–°å€¼ï¼ŒBè¡¨ç¤º å½“æ‰§è¡ŒCASæŒ‡ä»¤æ—¶ï¼Œåªæœ‰å½“Vç­‰äºAæ—¶ï¼Œæ‰ä¼šç”¨Bå»æ›´æ–°Vçš„å€¼ï¼Œå¦åˆ™å°±ä¸ä¼šæ‰§è¡Œæ›´æ–°æ“ä½œã€‚ é‚£ä¹ˆCASæœ‰ä»€ä¹ˆç¼ºç‚¹å—ï¼Ÿ   CASçš„ç¼ºç‚¹ä¸»è¦æœ‰3ç‚¹ï¼š   ABAé—®é¢˜ï¼šABAçš„é—®é¢˜æŒ‡çš„æ˜¯åœ¨CASæ›´æ–°çš„è¿‡ç¨‹ä¸­ï¼Œå½“è¯»å–åˆ°çš„å€¼æ˜¯Aï¼Œç„¶åå‡†å¤‡èµ‹å€¼çš„æ—¶å€™ä»ç„¶æ˜¯Aï¼Œä½†æ˜¯å®é™…ä¸Šæœ‰å¯èƒ½Açš„å€¼è¢«æ”¹æˆäº†Bï¼Œç„¶ååˆè¢«æ”¹å›äº†Aï¼Œè¿™ä¸ªCASæ›´æ–°çš„æ¼æ´å°±å«åšABAã€‚åªæ˜¯ABAçš„é—®é¢˜å¤§éƒ¨åˆ†åœºæ™¯ä¸‹éƒ½ä¸å½±å“å¹¶å‘çš„æœ€ç»ˆæ•ˆæœã€‚ Javaä¸­æœ‰AtomicStampedReferenceæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»–åŠ å…¥äº†é¢„æœŸæ ‡å¿—å’Œæ›´æ–°åæ ‡å¿—ä¸¤ä¸ªå­—æ®µï¼Œæ›´æ–°æ—¶ä¸å…‰æ£€æŸ¥å€¼ï¼Œè¿˜è¦æ£€æŸ¥å½“å‰çš„æ ‡å¿—æ˜¯å¦ç­‰äºé¢„æœŸæ ‡å¿—ï¼Œå…¨éƒ¨ç›¸ç­‰çš„è¯æ‰ä¼šæ›´æ–°ã€‚ å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§ï¼šè‡ªæ—‹CASçš„æ–¹å¼å¦‚æœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œä¼šç»™CPUå¸¦æ¥å¾ˆå¤§çš„å¼€é”€ã€‚ åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œï¼šåªå¯¹ä¸€ä¸ªå…±äº«å˜é‡æ“ä½œå¯ä»¥ä¿è¯åŸå­æ€§ï¼Œä½†æ˜¯å¤šä¸ªåˆ™ä¸è¡Œï¼Œå¤šä¸ªå¯ä»¥é€šè¿‡AtomicReferenceæ¥å¤„ç†æˆ–è€…ä½¿ç”¨é”synchronizedå®ç°ã€‚   git å’Œ svn ä»€ä¹ˆåŒºåˆ«ï¼Ÿ   GITæ˜¯åˆ†å¸ƒå¼çš„ï¼ŒSVNä¸æ˜¯ï¼š   è¿™æ˜¯GITå’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚SVNï¼ŒCVSç­‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚å¦‚æœä½ èƒ½ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œé‚£ä¹ˆä½ å°±å·²ç»ä¸Šæ‰‹ä¸€åŠäº†ã€‚éœ€è¦åšä¸€ç‚¹å£°æ˜ï¼ŒGITå¹¶ä¸æ˜¯ç›®å‰ç¬¬ä¸€ä¸ªæˆ–å”¯ä¸€çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚è¿˜æœ‰ä¸€äº›ç³»ç»Ÿï¼Œä¾‹å¦‚Bitkeeper, Mercurialç­‰ï¼Œä¹Ÿæ˜¯è¿è¡Œåœ¨åˆ†å¸ƒå¼æ¨¡å¼ä¸Šçš„ã€‚ä½†GITåœ¨è¿™æ–¹é¢åšçš„æ›´å¥½ï¼Œè€Œä¸”æœ‰æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ç‰¹å¾ã€‚ GITè·ŸSVNä¸€æ ·æœ‰è‡ªå·±çš„é›†ä¸­å¼ç‰ˆæœ¬åº“æˆ–æœåŠ¡å™¨ã€‚ä½†ï¼ŒGITæ›´å€¾å‘äºè¢«ä½¿ç”¨äºåˆ†å¸ƒå¼æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå¼€å‘äººå‘˜ä»ä¸­å¿ƒç‰ˆæœ¬åº“/æœåŠ¡å™¨ä¸Šchect outä»£ç åä¼šåœ¨è‡ªå·±çš„æœºå™¨ä¸Šå…‹éš†ä¸€ä¸ªè‡ªå·±çš„ç‰ˆæœ¬åº“ã€‚å¯ä»¥è¿™æ ·è¯´ï¼Œå¦‚æœä½ è¢«å›°åœ¨ä¸€ä¸ªä¸èƒ½è¿æ¥ç½‘ç»œçš„åœ°æ–¹æ—¶ï¼Œå°±åƒåœ¨é£æœºä¸Šï¼Œåœ°ä¸‹å®¤ï¼Œç”µæ¢¯é‡Œç­‰ï¼Œä½ ä»ç„¶èƒ½å¤Ÿæäº¤æ–‡ä»¶ï¼ŒæŸ¥çœ‹å†å²ç‰ˆæœ¬è®°å½•ï¼Œåˆ›å»ºé¡¹ç›®åˆ†æ”¯ï¼Œç­‰ã€‚å¯¹ä¸€äº›äººæ¥è¯´ï¼Œè¿™å¥½åƒæ²¡å¤šå¤§ç”¨å¤„ï¼Œä½†å½“ä½ çªç„¶é‡åˆ°æ²¡æœ‰ç½‘ç»œçš„ç¯å¢ƒæ—¶ï¼Œè¿™ä¸ªå°†è§£å†³ä½ çš„å¤§éº»çƒ¦ã€‚ GITæŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€ŒSVNæ˜¯æŒ‰æ–‡ä»¶ï¼š   æ‰€æœ‰çš„èµ„æºæ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æŠŠæ–‡ä»¶çš„å…ƒä¿¡æ¯éšè—åœ¨ä¸€ä¸ªç±»ä¼¼.svn,.cvsç­‰çš„æ–‡ä»¶å¤¹é‡Œã€‚å¦‚æœä½ æŠŠ.gitç›®å½•çš„ä½“ç§¯å¤§å°è·Ÿ.svnæ¯”è¾ƒï¼Œä½ ä¼šå‘ç°å®ƒä»¬å·®è·å¾ˆå¤§ã€‚å› ä¸º,.gitç›®å½•æ˜¯å¤„äºä½ çš„æœºå™¨ä¸Šçš„ä¸€ä¸ªå…‹éš†ç‰ˆçš„ç‰ˆæœ¬åº“ï¼Œå®ƒæ‹¥æœ‰ä¸­å¿ƒç‰ˆæœ¬åº“ä¸Šæ‰€æœ‰çš„ä¸œè¥¿ï¼Œä¾‹å¦‚æ ‡ç­¾ï¼Œåˆ†æ”¯ï¼Œç‰ˆæœ¬è®°å½•ç­‰ã€‚   GITåˆ†æ”¯å’ŒSVNçš„åˆ†æ”¯ä¸åŒï¼š   åˆ†æ”¯åœ¨SVNä¸­ä¸€ç‚¹ä¸ç‰¹åˆ«ï¼Œå°±æ˜¯ç‰ˆæœ¬åº“ä¸­çš„å¦å¤–çš„ä¸€ä¸ªç›®å½•ã€‚å¦‚æœä½ æƒ³çŸ¥é“æ˜¯å¦åˆå¹¶äº†ä¸€ä¸ªåˆ†æ”¯ï¼Œä½ éœ€è¦æ‰‹å·¥è¿è¡Œåƒè¿™æ ·çš„å‘½ä»¤svn propget svn:mergeinfoï¼Œæ¥ç¡®è®¤ä»£ç æ˜¯å¦è¢«åˆå¹¶ã€‚æ„Ÿè°¢BenåŒå­¦æŒ‡å‡ºè¿™ä¸ªç‰¹å¾ã€‚æ‰€ä»¥ï¼Œç»å¸¸ä¼šå‘ç”Ÿæœ‰äº›åˆ†æ”¯è¢«é—æ¼çš„æƒ…å†µã€‚ç„¶è€Œï¼Œå¤„ç†GITçš„åˆ†æ”¯å´æ˜¯ç›¸å½“çš„ç®€å•å’Œæœ‰è¶£ã€‚ä½ å¯ä»¥ä»åŒä¸€ä¸ªå·¥ä½œç›®å½•ä¸‹å¿«é€Ÿçš„åœ¨å‡ ä¸ªåˆ†æ”¯é—´åˆ‡æ¢ã€‚ä½ å¾ˆå®¹æ˜“å‘ç°æœªè¢«åˆå¹¶çš„åˆ†æ”¯ï¼Œä½ èƒ½ç®€å•è€Œå¿«æ·çš„åˆå¹¶è¿™äº›æ–‡ä»¶ã€‚   Httpåè®®   Httpç‰¹ç‚¹   HTTPæ˜¯æ— çŠ¶æ€çš„ã€‚åŒä¸€ä¸ªå®¢æˆ·ç¬¬äºŒæ¬¡è®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„é¡µé¢æ—¶ã€‚æœåŠ¡å™¨çš„å“åº”ä¸ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶çš„ç›¸åŒï¼Œå› ä¸ºæœåŠ¡å™¨å¹¶ä¸è®°å¾—æ›¾ç»è®¿é—®è¿‡çš„è¿™ä¸ªå®¢æˆ·ï¼Œä¹Ÿä¸è®°å¾—ä¸ºè¯¥å®¢æˆ·æ›¾ç»æœåŠ¡è¿‡å¤šå°‘æ¬¡ã€‚è¿™ä¸ªç‰¹æ€§ç®€åŒ–äº†æœåŠ¡å™¨çš„è®¾è®¡ï¼Œä½¿æœåŠ¡å™¨æ›´å®¹æ˜“æ”¯æŒå¤§é‡å¹¶å‘çš„HTTPè¯·æ±‚ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸ä½¿ç”¨CookieåŠ æ•°æ®åº“çš„æ–¹å¼è·Ÿè¸ªç”¨æˆ·çš„æ´»åŠ¨ã€‚Cookieæ˜¯å­˜å‚¨åœ¨ç”¨æˆ·ä¸»æœºä¸­çš„æ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸€ä¸²â€œè¯†åˆ«ç â€ï¼Œç”¨äºWebæœåŠ¡è¯†åˆ«ç”¨æˆ·ã€‚WebæœåŠ¡å™¨æ ¹æ®Cookieå°±èƒ½ä»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°è¯¥ç”¨æˆ·çš„æ´»åŠ¨è®°å½•ï¼Œè¿›è€Œæ‰§è¡Œä¸€äº›ä¸ªæ€§åŒ–çš„å·¥ä½œï¼Œå¦‚æ ¹æ®ç”¨æˆ·ä¹‹å‰æµè§ˆè¿‡çš„å•†å“å‘å…¶æ¨èæ–°äº§å“ç­‰ã€‚ HTTPé‡‡ç”¨TCPä½œä¸ºè¿è¾“å±‚åè®®ï¼Œä¿è¯äº†æ•°æ®çš„å¯é ä¼ è¾“ã€‚HTTPä¸å¿…è€ƒè™‘æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«ä¸¢å¼ƒååˆæ€æ ·è¢«é‡ä¼ ã€‚ä½†æ˜¯HTTPåè®®æœ¬èº«æ˜¯æ— è¿æ¥çš„ï¼Œè™½ç„¶HTTPä½¿ç”¨äº†TCPè¿æ¥ï¼Œä½†é€šä¿¡çš„åŒæ–¹åœ¨äº¤æ¢HTTPæŠ¥æ–‡ä¹‹å‰ä¸éœ€è¦å…ˆå»ºç«‹HTTPè¿æ¥ã€‚ HTTPæ—¢å¯ä»¥ä½¿ç”¨éæŒä¹…è¿æ¥ä¹Ÿå¯ä»¥ä½¿ç”¨æŒä¹…è¿æ¥ã€‚ å¯¹äºéæŒä¹…è¿æ¥ï¼Œæ¯ä¸€ä¸ªç½‘é¡µå…ƒç´ å¯¹è±¡çš„ä¼ è¾“éƒ½éœ€è¦å•ç‹¬å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ã€‚å¦‚å›¾æ‰€ç¤ºã€‚ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„æŠ¥æ–‡æ®µä¸­æå¸¦äº†å®¢æˆ·å¯¹ä¸‡ç»´ç½‘æ–‡æ¡£çš„è¯·æ±‚ï¼Œè¯·æ±‚ä¸€ä¸ªä¸‡ç»´ç½‘æ–‡æ¡£æ‰€éœ€çš„æ—¶é—´æ˜¯è¯¥æ–‡æ¡£çš„ä¼ è¾“æ—¶é—´ï¼ˆä¸æ–‡æ¡£å¤§å°æˆæ­£æ¯”ï¼‰åŠ ä¸Šä¸¤å€å¾€è¿”æ—¶é—´RTTã€‚ æŒä¹…è¿æ¥æ˜¯ä¸‡ç»´ç½‘æœåŠ¡å™¨åœ¨å‘é€å“åº”åä»ç„¶ä¿æŒè¿™æ¡è¿æ¥ï¼Œä½¿åŒä¸€ä¸ªå®¢æˆ·å’ŒæœåŠ¡å™¨å¯ä»¥ç»§ç»­åœ¨è¿™æ¡è¿æ¥ä¸Šä¼ é€åç»­çš„HTTPè¯·æ±‚å’Œå“åº”æŠ¥æ–‡ã€‚æŒä¹…è¿æ¥åˆåˆ†ä¸ºéæµæ°´çº¿å’Œæµæ°´çº¿ä¸¤ç§æ–¹å¼ã€‚å¯¹äºéæµæ°´çº¿æ–¹å¼ï¼Œå®¢æˆ·åœ¨æ”¶åˆ°å‰ä¸€ä¸ªå“åº”åæ‰èƒ½å‘å‡ºä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚HTTP/1.1çš„é»˜è®¤æ¨¡å¼æ˜¯ä½¿ç”¨æµæ°´çº¿çš„æŒä¹…è¿æ¥ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·æ¯é‡åˆ°ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å°±ç«‹å³å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œå› è€Œå®¢æˆ·å¯ä»¥ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿ç»­å‘å‡ºå¯¹å„ä¸ªå¼•ç”¨å¯¹è±¡çš„è¯·æ±‚ã€‚å¦‚æœæ‰€æœ‰çš„è¯·æ±‚å’Œå“åº”éƒ½æ˜¯è¿ç»­å‘é€çš„ï¼Œé‚£ä¹ˆæ‰€æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡å…±è®¡ç»å†ä¸€ä¸ªRTTå»¶è¿Ÿï¼Œè€Œä¸æ˜¯åƒéæµæ°´çº¿ç‰ˆæœ¬é‚£æ ·ï¼Œæ¯ä¸ªå¼•ç”¨éƒ½å¿…é¡»æœ‰ä¸€ä¸ªRTTå»¶è¿Ÿã€‚ HTTPçš„æŠ¥æ–‡ç»“æ„   HTTPæœ‰ä¸¤ç±»æŠ¥æ–‡ï¼šè¯·æ±‚æŠ¥æ–‡ä»å®¢æˆ·å‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚æŠ¥æ–‡ï¼›å“åº”æŠ¥æ–‡ä»æœåŠ¡å™¨åˆ°å®¢æˆ·çš„åº”ç­”ã€‚ HTTPä¸¤ç§æŠ¥æ–‡éƒ½æ˜¯ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå³å¼€å§‹è¡Œã€é¦–éƒ¨è¡Œã€å®ä½“ä¸»ä½“ï¼Œä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºä¸»è¦æ˜¯å¼€å§‹è¡Œä¸åŒã€‚ å¼€å§‹è¡Œç”¨äºåŒºåˆ«æ˜¯è¯·æ±‚æŠ¥æ–‡è¿˜æ˜¯å“åº”æŠ¥æ–‡ã€‚åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­çš„å¼€å§‹è¡Œå«è¯·æ±‚è¡Œï¼Œå“åº”æŠ¥æ–‡çš„å¼€å§‹è¡Œå«çŠ¶æ€è¡Œã€‚å¼€å§‹è¡Œçš„ä¸‰ä¸ªå­—æ®µä¹‹é—´éƒ½ä»¥ç©ºæ ¼åˆ†å‰²å¼€ï¼Œæœ€åå›è½¦æ¢è¡Œã€‚è¯·æ±‚æŠ¥æ–‡çš„â€œè¯·æ±‚è¡Œâ€æœ‰ä¸‰ä¸ªå†…å®¹ï¼šæ–¹æ³•ã€è¯·æ±‚èµ„æºçš„URLä»¥åŠHTTPç‰ˆæœ¬ã€‚å¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼š GETï¼šè¯·æ±‚è¯»å–ç”±URLæ‰€æ ‡å¿—çš„ä¿¡æ¯ï¼› HEADï¼šè¯·æ±‚è¯»å–URLæ‰€æ ‡å¿—çš„ä¿¡æ¯çš„é¦–éƒ¨ï¼› POSTï¼šç»™æœåŠ¡å™¨æ·»åŠ ä¿¡æ¯ï¼ˆå¦‚æ³¨é‡Šï¼‰ï¼› CONNECTï¼šç”¨äºä»£ç†æœåŠ¡å™¨ã€‚ é¦–éƒ¨è¡Œç”¨äºè¯´æ˜æµè§ˆå™¨ã€æœåŠ¡å™¨æˆ–æŠ¥æ–‡ä¸»ä½“çš„ä¸€äº›ä¿¡æ¯ã€‚åœ¨æ¯ä¸ªé¦–éƒ¨è¡Œéƒ½æœ‰é¦–éƒ¨å­—æ®µåå’Œå®ƒçš„å€¼ï¼Œæ¯ä¸€è¡Œåœ¨ç»“æŸçš„åœ°æ–¹éƒ½è¦æœ‰å›è½¦å’Œæ¢è¡Œã€‚åœ¨æ•´ä¸ªé¦–éƒ¨ç»“æŸæ—¶ï¼Œè¿˜æœ‰ä¸€ç©ºè¡Œå°†é¦–éƒ¨è¡Œå’Œå®ä½“ä¸»ä½“åˆ†å¼€ã€‚å®ä½“ä¸»ä½“åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ä¸€èˆ¬ä¸ä½¿ç”¨è¿™ä¸ªå­—æ®µï¼Œå“åº”æŠ¥æ–‡ä¹Ÿå¯èƒ½æ²¡æœ‰  ","categories": ["interview"],
        "tags": ["interview","é¢è¯•å…«è‚¡æ–‡"],
        "url": "/jekyll-blog/interview/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1%E6%96%87-%E6%AD%A6%E6%B1%89%E5%B0%8F%E7%B1%B3/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "RabbitMQæœ€ä½³å®è·µ",
        "excerpt":"æœ‰äº›åº”ç”¨ç¨‹åºéœ€è¦éå¸¸é«˜çš„ååé‡ï¼Œè€Œå…¶ä»–ä¸€äº›åº”ç”¨ç¨‹åºå´æ­£åœ¨å‘å¸ƒæ‰¹å¤„ç†ä½œä¸šï¼Œè¿™äº›ä½œä¸šå¯èƒ½ä¼šå»¶è¿Ÿä¸€æ®µæ—¶é—´ã€‚åœ¨è®¾è®¡ç³»ç»Ÿæ—¶ï¼Œç›®æ ‡åº”è¯¥æ˜¯æœ€å¤§é™åº¦åœ°å°†æ€§èƒ½å’Œå¯ç”¨æ€§ç»“åˆèµ·æ¥ï¼Œè¿™å¯¹æ‚¨çš„ç‰¹å®šåº”ç”¨ç¨‹åºæ˜¯æœ‰æ„ä¹‰çš„ã€‚é”™è¯¯çš„ä½“ç³»ç»“æ„è®¾è®¡å†³ç­–æˆ–å®¢æˆ·ç«¯é”™è¯¯ï¼Œå¯èƒ½ä¼šæŸåä¸­é—´ä»¶æˆ–å½±å“ååé‡ã€‚   æ‚¨çš„å‘å¸ƒæœåŠ¡å™¨å¯èƒ½ä¼šåœæ­¢è¿è¡Œï¼Œæˆ–è€…ç”±äºå†…å­˜ä½¿ç”¨è¿‡å¤šè€Œå¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚æœ¬ç³»åˆ—æ–‡ç« é‡ç‚¹å…³æ³¨rabbitmqçš„æœ€ä½³å®è·µã€‚åº”åšå’Œä¸åº”åšä¸¤ç§ä¸åŒä½¿ç”¨ç±»åˆ«çš„æœ€ä½³å®è·µç›¸æ··åˆ;é«˜å¯ç”¨æ€§å’Œé«˜æ€§èƒ½ï¼ˆé«˜ååé‡ï¼‰ã€‚æˆ‘ä»¬å°†è®¨è®ºé˜Ÿåˆ—å¤§å°ã€å¸¸è§é”™è¯¯ã€å»¶è¿Ÿé˜Ÿåˆ—ã€é¢„å–å€¼ã€è¿æ¥å’Œé€šé“ã€HIPEå’Œé›†ç¾¤ä¸­çš„èŠ‚ç‚¹æ•°ã€‚è¿™äº›é€šå¸¸éƒ½æ˜¯æœ€ä½³å®è·µè§„åˆ™ï¼ŒåŸºäºæˆ‘ä»¬åœ¨ä½¿ç”¨rabbitmqæ—¶è·å¾—çš„ç»éªŒã€‚      AMQP 0-9-1æ¨¡å‹ï¼š https://blog.csdn.net/gaoyang8320/article/details/78312587    åŸæ–‡:  https://www.cloudamqp.com/blog/2017-12-29-part1-rabbitmq-best-practice.html           ç›®å½•     RabbitMQæœ€ä½³å®è·µ           Queues                   å°½å¯èƒ½å°‘æ’é˜Ÿ           å¯ç”¨å»¶è¿Ÿé˜Ÿåˆ—ä»¥è·å¾—å¯é¢„æµ‹çš„æ€§èƒ½           é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼ˆTTLæˆ–æœ€å¤§é•¿åº¦ï¼‰           é˜Ÿåˆ—æ•°é‡           å°†ä½ çš„å¯¹åˆ—æ‹†åˆ†åˆ°ä¸åŒçš„æ ¸å¿ƒä¸Š           ä¸è¦åœ¨ä¸´æ—¶é˜Ÿåˆ—ä¸Šè®¾ç½®è‡ªå·±çš„åç§°           è‡ªåŠ¨åˆ é™¤ä¸å†ä½¿ç”¨çš„é˜Ÿåˆ—           ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—è®¾ç½®ä½¿ç”¨é™åˆ¶                       Payload - RabbitMQ message çš„å¤§å°å’Œç±»å‹       è¿æ¥å’Œé€šé“ï¼ˆConnections and channelsï¼‰                   ä¸è¦åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«é€šé“ï¼ˆchannelsï¼‰           ä¸è¦é¢‘ç¹æ‰“å¼€å’Œå…³é—­è¿æ¥æˆ–é€šé“           ä¸ºå‘å¸ƒè€…å’Œæ¶ˆè´¹è€…åŒºåˆ†è¿æ¥ï¼ˆconnections ï¼‰           å¤§é‡çš„è¿æ¥å’Œé€šé“å¯èƒ½ä¼šå½±å“rabbitmqç®¡ç†æ¥å£çš„æ€§èƒ½                       Acknowledgements å’ŒConfirms                   æœªç¡®è®¤çš„æ¶ˆæ¯                       æŒä¹…æ¶ˆæ¯å’ŒæŒä¹…é˜Ÿåˆ—       TLS and AMQPS       é¢„å–ï¼ˆPrefetchï¼‰                   å¦‚ä½•è®¾ç½®åˆé€‚çš„é¢„å–å€¼ï¼Ÿ                       HiPE       ç¾¤é›†ä¸­çš„èŠ‚ç‚¹æ•°ï¼ˆç¾¤é›†å’Œé«˜å¯ç”¨æ€§ï¼‰                   è®°ä½åœ¨æ–°vhostsä¸Šå¯ç”¨HA                       Routing (exchanges è®¾ç½®)       Disable æ— ç”¨çš„ plugins       ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒå°†rabbitmqç®¡ç†ç»Ÿè®¡é€Ÿç‡æ¨¡å¼è®¾ç½®ä¸ºç”Ÿäº§ä¸­çš„â€œè¯¦ç»†ä¿¡æ¯â€       ä½¿ç”¨æ›´æ–°çš„rabbitmqå®¢æˆ·ç«¯åº“       ä½¿ç”¨æœ€æ–°ç¨³å®šçš„rabbitmqå’Œerlangç‰ˆæœ¬       å°å¿ƒä½¿ç”¨TTL                   Dead lettering           TTL                                RabbitMQæœ€ä½³å®è·µ   Queues   å°½å¯èƒ½å°‘æ’é˜Ÿ  é˜Ÿåˆ—ä¸­çš„è®¸å¤šæ¶ˆæ¯ä¼šå¯¹RAMçš„ä½¿ç”¨é€ æˆå¾ˆå¤§çš„è´Ÿæ‹…ã€‚ä¸ºäº†é‡Šæ”¾RAMï¼Œrabbitmqå°†ï¼ˆé¡µé¢è¾“å‡ºï¼‰æ¶ˆæ¯åˆ·æ–°åˆ°ç£ç›˜ã€‚æ­¤è¿‡ç¨‹ä¼šé™ä½æ’é˜Ÿé€Ÿåº¦ã€‚å½“æœ‰è®¸å¤šæ¶ˆæ¯éœ€è¦åˆ†é¡µå–å‡ºæ—¶ï¼Œåˆ†é¡µè¿‡ç¨‹é€šå¸¸ä¼šèŠ±è´¹æ—¶é—´å¹¶é˜»æ­¢é˜Ÿåˆ—å¤„ç†æ¶ˆæ¯ã€‚è®¸å¤šæ¶ˆæ¯å¯èƒ½ä¼šå¯¹ä¸­é—´ä»¶çš„æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚   å½“æœ‰è®¸å¤šæ¶ˆæ¯é‡å¯é›†ç¾¤æ—¶ï¼Œä¹Ÿæ˜¯è´¹æ—¶çš„ï¼Œå› ä¸ºå¿…é¡»é‡å»ºç´¢å¼•ã€‚é‡æ–°å¯åŠ¨åï¼Œåœ¨ç¾¤é›†ä¸­çš„èŠ‚ç‚¹ä¹‹é—´åŒæ­¥æ¶ˆæ¯ä¹Ÿéœ€è¦æ—¶é—´ã€‚   å¯ç”¨å»¶è¿Ÿé˜Ÿåˆ—ä»¥è·å¾—å¯é¢„æµ‹çš„æ€§èƒ½   åœ¨rabbitmq 3.6ä¸­æ·»åŠ äº†ä¸€ä¸ªåä¸ºlazy queuesçš„åŠŸèƒ½ã€‚æ‡’æƒ°é˜Ÿåˆ—æ˜¯æ¶ˆæ¯è‡ªåŠ¨å­˜å‚¨åˆ°ç£ç›˜ä¸Šçš„é˜Ÿåˆ—ã€‚åªæœ‰åœ¨éœ€è¦æ—¶æ‰å°†æ¶ˆæ¯åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å¯¹äºæ‡’æƒ°çš„é˜Ÿåˆ—ï¼Œæ¶ˆæ¯ç›´æ¥è¿›å…¥ç£ç›˜ï¼Œå› æ­¤RAMçš„ä½¿ç”¨è¢«æœ€å°åŒ–ï¼Œä½†æ˜¯ååæ—¶é—´å°†èŠ±è´¹æ›´é•¿çš„æ—¶é—´ã€‚   æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œæ‡’æƒ°çš„é˜Ÿåˆ—ä»¥æ›´å¥½çš„å¯é¢„æµ‹æ€§çš„æ–¹å¼ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ›´ç¨³å®šçš„é›†ç¾¤ã€‚è¦è®©æ‚¨çš„æ¶ˆæ¯ä¸å‡ºç°è­¦å‘Šï¼Œè¯·åˆ·æ–°åˆ°ç£ç›˜ã€‚ä½ ä¸ä¼šçªç„¶è¢«ä¸€ä¸ªæ€§èƒ½å†²å‡»é—®é¢˜æ‰€å›°æ‰°ã€‚å¦‚æœæ‚¨ä¸€æ¬¡å‘é€å¤§é‡æ¶ˆæ¯ï¼ˆä¾‹å¦‚å¤„ç†æ‰¹å¤„ç†ä½œä¸šï¼‰ï¼Œæˆ–è€…å¦‚æœæ‚¨è®¤ä¸ºæ‚¨çš„æ¶ˆè´¹è€…ä¸€ç›´æ— æ³•è·Ÿä¸Šå‘å¸ƒè€…çš„é€Ÿåº¦ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨å¯ç”¨å»¶è¿Ÿé˜Ÿåˆ—ã€‚   Warning Notice: è¯·æ³¨æ„ï¼Œå¦‚æœéœ€è¦éå¸¸é«˜çš„æ€§èƒ½ï¼Œæ‚¨åº”è¯¥ç¦ç”¨å»¶è¿Ÿé˜Ÿåˆ—-å¦‚æœé˜Ÿåˆ—æ—¶é—´æ€»æ˜¯å¾ˆçŸ­ï¼Œæˆ–è€…è®¾ç½®æœ€å¤§é•¿åº¦ç­–ç•¥ã€‚.   é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼ˆTTLæˆ–æœ€å¤§é•¿åº¦ï¼‰   å¯¹äºç»å¸¸å—åˆ°æ¶ˆæ¯å³°å€¼å†²å‡»çš„åº”ç”¨ç¨‹åºï¼Œä»¥åŠè¦æ±‚ååé‡æ¯”å…¶ä»–ä»»ä½•ä¸œè¥¿éƒ½é‡è¦çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥æ¨èçš„å¦ä¸€åšæ³•æ˜¯è®¾ç½®é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚è¿™æ ·å¯ä»¥é€šè¿‡ä¸¢å¼ƒæ¥è‡ªé˜Ÿåˆ—å¤´éƒ¨çš„æ¶ˆæ¯æ¥ä¿æŒé˜Ÿåˆ—çš„ç®€çŸ­æ€§ï¼Œä»è€Œä½¿é˜Ÿåˆ—æ°¸è¿œä¸ä¼šè¶…è¿‡max-lengthè®¾ç½®ã€‚   é˜Ÿåˆ—æ•°é‡   é˜Ÿåˆ—åœ¨rabbitmqä¸­æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸€ä¸ªé˜Ÿåˆ—å¯ä»¥å¤„ç†å¤§çº¦50kæ¡æ¶ˆæ¯/ç§’ã€‚å¦‚æœæ‚¨æœ‰å¤šä¸ªé˜Ÿåˆ—å’Œæ¶ˆè´¹è€…ï¼Œæ‚¨å¯ä»¥åœ¨å¤šæ ¸ç³»ç»Ÿä¸Šè·å¾—æ›´å¥½çš„ååé‡ã€‚å¦‚æœåœ¨åº•å±‚èŠ‚ç‚¹ä¸Šæ‹¥æœ‰ä¸æ ¸å¿ƒä¸€æ ·å¤šçš„é˜Ÿåˆ—ï¼Œé‚£ä¹ˆæ‚¨å°†è·å¾—æœ€ä½³ååé‡ã€‚   rabbitmqç®¡ç†æ¥å£ä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸ªé˜Ÿåˆ—æ”¶é›†å’Œè®¡ç®—åº¦é‡ã€‚å¦‚æœæ‚¨æœ‰æ•°åƒä¸ªæ´»åŠ¨é˜Ÿåˆ—å’Œä½¿ç”¨è€…ï¼Œè¿™å¯èƒ½ä¼šå‡æ…¢æœåŠ¡å™¨çš„è¿è¡Œé€Ÿåº¦ã€‚å¦‚æœé˜Ÿåˆ—å¤ªå¤šï¼ŒCPUå’ŒRAMçš„ä½¿ç”¨ä¹Ÿå¯èƒ½å—åˆ°è´Ÿé¢å½±å“ã€‚   å°†ä½ çš„å¯¹åˆ—æ‹†åˆ†åˆ°ä¸åŒçš„æ ¸å¿ƒä¸Š   é˜Ÿåˆ—æ€§èƒ½å—é™äºä¸€ä¸ªCPUæ ¸å¿ƒã€‚å› æ­¤ï¼Œå¦‚æœå°†é˜Ÿåˆ—æ‹†åˆ†åˆ°ä¸åŒçš„æ ¸å¿ƒï¼Œæ‚¨å°†è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼›å¦‚æœæ‚¨æ‹¥æœ‰rabbitmqé›†ç¾¤ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†ä»–ä»¬æ‹†åˆ†åˆ°ä¸åŒçš„èŠ‚ç‚¹ã€‚   rabbitmqé˜Ÿåˆ—ç»‘å®šåˆ°æœ€åˆå£°æ˜å®ƒä»¬çš„èŠ‚ç‚¹ã€‚å³ä½¿æ‚¨åˆ›å»ºäº†ä¸€ä¸ªrabbitmqä¸­é—´ä»¶é›†ç¾¤ï¼Œæ‰€æœ‰è·¯ç”±åˆ°ç‰¹å®šé˜Ÿåˆ—çš„æ¶ˆæ¯éƒ½å°†è½¬åˆ°è¯¥é˜Ÿåˆ—æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚æ‚¨å¯ä»¥åœ¨èŠ‚ç‚¹ä¹‹é—´å¹³å‡åœ°æ‰‹åŠ¨æ‹†åˆ†é˜Ÿåˆ—ï¼Œä½†ç¼ºç‚¹æ˜¯æ‚¨éœ€è¦è®°ä½é˜Ÿåˆ—çš„ä½ç½®ã€‚   å¦‚æœæ‚¨æœ‰å¤šä¸ªèŠ‚ç‚¹æˆ–å…·æœ‰å¤šä¸ªæ ¸å¿ƒçš„å•èŠ‚ç‚¹é›†ç¾¤ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸¤ä¸ªæ’ä»¶æ¥å¸®åŠ©æ‚¨:           Consistent hash exchange plugin ä¸€è‡´çš„å“ˆå¸Œäº¤æ¢æ’ä»¶å…è®¸æ‚¨ä½¿ç”¨exchange åœ¨é˜Ÿåˆ—ä¹‹é—´åŠ è½½å¹³è¡¡æ¶ˆæ¯ã€‚é€šè¿‡æ¶ˆæ¯çš„è·¯ç”±å¯†é’¥ï¼Œå‘é€åˆ°exchange çš„æ¶ˆæ¯åœ¨å¤šä¸ªé˜Ÿåˆ—ä¸­å‡åŒ€ä¸€è‡´åœ°åˆ†å¸ƒã€‚è¯¥æ’ä»¶åˆ›å»ºè·¯ç”±å¯†é’¥çš„æ•£åˆ—ï¼Œå¹¶åœ¨ç»‘å®šåˆ°è¯¥exchange çš„é˜Ÿåˆ—ä¹‹é—´ä¼ æ’­æ¶ˆæ¯ã€‚å¦‚æœä¸å‘å‘å¸ƒæœåŠ¡å™¨ä¸­æ·»åŠ å……è¶³çš„æœ‰å…³é˜Ÿåˆ—æ•°é‡åŠå…¶bindings çš„ä¿¡æ¯ï¼Œæ‰‹åŠ¨æ‰§è¡Œæ­¤æ“ä½œå¯èƒ½å¾ˆå¿«å°±ä¼šå‡ºç°é—®é¢˜ã€‚ å¦‚æœéœ€è¦æœ€å¤§é™åº¦åœ°ä½¿ç”¨é›†ç¾¤ä¸­çš„å¤šä¸ªæ ¸å¿ƒï¼Œå¯ä»¥ä½¿ç”¨ä¸€è‡´çš„å“ˆå¸Œäº¤æ¢æ’ä»¶ã€‚è¯·æ³¨æ„ï¼Œä»æ‰€æœ‰é˜Ÿåˆ—ä¸­æ¶ˆè€—æ˜¯å¾ˆé‡è¦çš„ã€‚é˜…è¯»æ­¤å¤„æœ‰å…³ä¸€è‡´å“ˆå¸Œäº¤æ¢æ’ä»¶çš„æ›´å¤šä¿¡æ¯ã€‚            RabbitMQ sharding rabbitmq shardingæ’ä»¶ä¸ºæ‚¨è‡ªåŠ¨å¯¹é˜Ÿåˆ—è¿›è¡Œåˆ†åŒºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦æ‚¨å°†ä¸€ä¸ªexchange å®šä¹‰ä¸ºshardedï¼Œé‚£ä¹ˆåœ¨æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šè‡ªåŠ¨åˆ›å»ºæ”¯æŒé˜Ÿåˆ—ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´å…±äº«æ¶ˆæ¯ã€‚rabbitmq shardingå‘ä½¿ç”¨è€…æ˜¾ç¤ºäº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä½†å®ƒå¯èƒ½æ˜¯åå°è¿è¡Œåœ¨å®ƒåé¢çš„å¤šä¸ªé˜Ÿåˆ—ã€‚rabbitmq shardingæ’ä»¶ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªé›†ä¸­çš„ä½ç½®ï¼Œé€šè¿‡å‘é›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹æ·»åŠ é˜Ÿåˆ—ï¼Œæ‚¨å¯ä»¥å°†æ¶ˆæ¯ä»¥åŠè·¨å¤šä¸ªèŠ‚ç‚¹çš„è´Ÿè½½å¹³è¡¡å‘é€åˆ°è¯¥ä½ç½®ã€‚åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºRabbitMQ shardingçš„ä¿¡æ¯ã€‚       ä¸è¦åœ¨ä¸´æ—¶é˜Ÿåˆ—ä¸Šè®¾ç½®è‡ªå·±çš„åç§°   å½“æ‚¨æƒ³è¦åœ¨ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´å…±äº«é˜Ÿåˆ—æ—¶ï¼Œä¸ºé˜Ÿåˆ—å‘½åæ˜¯å¾ˆé‡è¦çš„ï¼Œä½†æ˜¯å¦‚æœæ‚¨ä½¿ç”¨ä¸´æ—¶é˜Ÿåˆ—ï¼Œåˆ™ä¸é‡è¦ã€‚ç›¸åï¼Œæ‚¨åº”è¯¥è®©æœåŠ¡å™¨ä½¿ç”¨ä¸€ä¸ªéšæœºçš„é˜Ÿåˆ—åç§°ï¼Œè€Œä¸æ˜¯ä½ è‡ªå·±å‘½åä¸€ä¸ªâ€”â€”æˆ–è€…ä¿®æ”¹rabbitmqç­–ç•¥ã€‚   è‡ªåŠ¨åˆ é™¤ä¸å†ä½¿ç”¨çš„é˜Ÿåˆ—   å®¢æˆ·æœºè¿æ¥å¯èƒ½ä¼šå¤±è´¥ï¼Œå¹¶å¯èƒ½ç•™ä¸‹æœªä½¿ç”¨çš„èµ„æºï¼ˆé˜Ÿåˆ—ï¼‰ï¼Œç•™ä¸‹è®¸å¤šé˜Ÿåˆ—å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—æœ‰ä¸‰ç§æ–¹æ³•:     æ‚¨å¯ä»¥åœ¨é˜Ÿåˆ—ä¸Šè®¾ç½®TTLç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œ28å¤©çš„TTLç­–ç•¥å°†åˆ é™¤28å¤©å†…æœªä½¿ç”¨çš„é˜Ÿåˆ—ã€‚   å½“è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªä½¿ç”¨è€…å·²å–æ¶ˆæˆ–é€šé“/è¿æ¥å·²å…³é—­æ—¶ï¼ˆæˆ–å½“å®ƒä¸æœåŠ¡å™¨å¤±å»TCPè¿æ¥æ—¶ï¼‰ï¼Œè‡ªåŠ¨åˆ é™¤é˜Ÿåˆ—å°†è¢«åˆ é™¤;   ä¸“ç”¨é˜Ÿåˆ—åªèƒ½é€šè¿‡å£°æ˜è¿æ¥è¢«ä½¿ç”¨ï¼ˆä»å“ªé‡Œä½¿ç”¨ã€æ¸…é™¤ã€åˆ é™¤ç­‰ï¼‰ã€‚ä¸“ç”¨é˜Ÿåˆ—åœ¨å…¶å£°æ˜è¿æ¥å…³é—­æˆ–æ¶ˆå¤±æ—¶è¢«åˆ é™¤ï¼ˆä¾‹å¦‚ï¼Œç”±äºåº•å±‚TCPè¿æ¥ä¸¢å¤±ï¼‰ã€‚   ä¸ºä¼˜å…ˆçº§é˜Ÿåˆ—è®¾ç½®ä½¿ç”¨é™åˆ¶   åœ¨ Erlang VM çš„å†…éƒ¨é˜Ÿåˆ—æ¯ä¸ªé˜Ÿåˆ—å‡ä½¿ç”¨ç”¨äº†ä¸€ä¸ªä¼˜å…ˆçº§åˆ«ï¼Œä»–ä»¬è€—è´¹äº†ä¸€äº›èµ„æºã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸è¶…è¿‡5ä¸ªä¼˜å…ˆçº§å°±è¶³å¤Ÿäº†ã€‚   Payload - RabbitMQ message çš„å¤§å°å’Œç±»å‹   ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯å¦‚ä½•å¤„ç†å‘é€åˆ°rabbitmqçš„æ¶ˆæ¯çš„palyloadï¼ˆæ¶ˆæ¯å¤§å°ï¼‰ã€‚å½“ç„¶ï¼Œæ‚¨ä¸åº”è¯¥åœ¨æ¶ˆæ¯ä¸­å‘é€éå¸¸å¤§çš„æ–‡ä»¶ä¿¡æ¯ï¼Œä½†æ˜¯æ¯ç§’çš„æ¶ˆæ¯æ•°æ˜¯ä¸€ä¸ªæ¯”å®ƒæœ¬èº«çš„æ¶ˆæ¯å¤§å°æ›´å¤§çš„ç“¶é¢ˆã€‚å‘é€å¤šä¸ªå°æ¶ˆæ¯å¯èƒ½æ˜¯ä¸€ä¸ªåçš„é€‰æ‹©ã€‚ä¸€ä¸ªæ›´å¥½çš„åŠæ³•æ˜¯å°†å®ƒä»¬æ†ç»‘æˆä¸€ä¸ªæ›´å¤§çš„æ¶ˆæ¯ï¼Œè®©æ¶ˆè´¹è€…å°†å…¶æ‹†åˆ†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ†ç»‘å¤šæ¡æ¶ˆæ¯ï¼Œåˆ™éœ€è¦è®°ä½è¿™å¯èƒ½ä¼šå½±å“å¤„ç†æ—¶é—´ã€‚å¦‚æœå…¶ä¸­ä¸€æ¡æ†ç»‘æ¶ˆæ¯å¤±è´¥ï¼Œæ˜¯å¦éœ€è¦é‡æ–°å¤„ç†æ‰€æœ‰è¿™äº›æ¶ˆæ¯ï¼Ÿå¦‚ä½•è®¾ç½®è¿™ä¸ªå–å†³äºå¸¦å®½å’Œä½“ç³»ç»“æ„ã€‚   è¿æ¥å’Œé€šé“ï¼ˆConnections and channelsï¼‰   æ¯ä¸ªè¿æ¥ä½¿ç”¨å¤§çº¦100kbçš„RAMï¼ˆå¦‚æœä½¿ç”¨TLSï¼Œç”šè‡³æ›´å¤šï¼‰ã€‚æ•°åƒä¸ªè¿æ¥å¯èƒ½æ˜¯rabbitmqæœåŠ¡å™¨çš„æ²‰é‡è´Ÿæ‹…ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¯èƒ½ç”±äºå†…å­˜ä¸è¶³è€Œå´©æºƒã€‚AMQPåè®®æœ‰ä¸€ç§ç§°ä¸ºâ€œå¤šè·¯å¤ç”¨â€çš„æœºåˆ¶ï¼Œå®ƒâ€œå¤ç”¨â€å•ä¸ªTCPè¿æ¥ã€‚å®ƒå»ºè®®æ¯ä¸ªè¿›ç¨‹åªåˆ›å»ºä¸€ä¸ªTCPè¿æ¥ï¼Œå¹¶åœ¨è¿™ä¸ªå”¯ä¸€ä¸€ä¸ªè¿æ¥çš„åŸºç¡€ä¸Šä¸ºä¸åŒçš„çº¿ç¨‹ä½¿ç”¨å¤šä¸ªé€šé“ã€‚è¿æ¥ä¹Ÿåº”è¯¥æ˜¯é•¿è¿æ¥çš„ã€‚AMQPè¿æ¥çš„æ¡æ‰‹è¿‡ç¨‹éå¸¸å¤æ‚ï¼Œè‡³å°‘éœ€è¦7ä¸ªTCPæ•°æ®åŒ…ï¼ˆå¦‚æœä½¿ç”¨äº†TLSï¼Œåˆ™éœ€è¦æ›´å¤šï¼‰ã€‚   ç›¸åï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥æ›´é¢‘ç¹åœ°æ‰“å¼€å’Œå…³é—­é€šé“ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œç”šè‡³é€šé“ä¹Ÿåº”è¯¥æ˜¯é•¿å¯¿å‘½çš„ï¼Œä¾‹å¦‚ï¼Œåœ¨æ¯ä¸ªå‘å¸ƒä¿¡æ¯çº¿ç¨‹ä¸­å¤ç”¨ç›¸åŒçš„é€šé“ã€‚æ¯æ¬¡å‘å¸ƒä¿¡æ¯æ—¶ä¸ç”¨æ‰“å¼€é¢‘é“ã€‚æœ€ä½³å®è·µæ˜¯å¤ç”¨è¿æ¥ï¼Œä½¿ç”¨å„é€šé“åœ¨ä¸€ä¸ªè¿æ¥çš„åŸºç¡€ä¸Šå®ç°å¤šè·¯å¤ç”¨ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¿›ç¨‹åªèƒ½æœ‰ä¸€ä¸ªè¿æ¥ï¼Œç„¶ååœ¨åº”ç”¨ç¨‹åºä¸­ä¸ºæ¯ä¸ªçº¿ç¨‹ä½¿ç”¨ä¸€ä¸ªé€šé“ï¼Œè€Œæ¯ä¸ªchannel å¤ç”¨åŒä¸€ä¸ªè¿æ¥å³å¯ã€‚   ä¸è¦åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«é€šé“ï¼ˆchannelsï¼‰   æ‚¨è¿˜åº”è¯¥ç¡®ä¿ä¸åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«é€šé“ï¼Œå› ä¸ºå¤§å¤šæ•°å®¢æˆ·æœºä¸ä¿è¯é€šé“æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆå› ä¸ºè¿™æ ·ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸¥é‡çš„è´Ÿé¢å½±å“ï¼‰ã€‚   ä¸è¦é¢‘ç¹æ‰“å¼€å’Œå…³é—­è¿æ¥æˆ–é€šé“   ç¡®ä¿ä¸è¦åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«é€šé“ï¼Œå› ä¸ºå¤§å¤šæ•°å®¢æˆ·æœºä¸ä¼šä½¿é€šé“çº¿ç¨‹å®‰å…¨ï¼ˆå› ä¸ºè¿™æ ·ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸¥é‡çš„è´Ÿé¢å½±å“ï¼‰ã€‚   ä¸ºå‘å¸ƒè€…å’Œæ¶ˆè´¹è€…åŒºåˆ†è¿æ¥ï¼ˆconnections ï¼‰   ä¸ºå‘å¸ƒè€…å’Œæ¶ˆè´¹è€…åŒºåˆ†è¿æ¥ä»¥è·å¾—é«˜ååé‡ã€‚å½“å‘å¸ƒæœåŠ¡å™¨å‘æœåŠ¡å™¨å‘é€å¤ªå¤šè¦å¤„ç†çš„æ¶ˆæ¯æ—¶ï¼Œrabbitmqå¯ä»¥å¯¹TCPè¿æ¥æ–½åŠ åå‘å‹åŠ›ã€‚å¦‚æœæ¶ˆè´¹è€…ä½¿ç”¨ç›¸åŒçš„TCPè¿æ¥ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¸ä¼šä»å®¢æˆ·æœºæ¥æ”¶æ¶ˆæ¯ç¡®è®¤ã€‚å› æ­¤ï¼Œæ¶ˆè´¹æ€§èƒ½ä¹Ÿä¼šå—åˆ°å½±å“ã€‚è€Œéšç€æ¶ˆè´¹é€Ÿåº¦çš„é™ä½ï¼ŒæœåŠ¡å™¨å°†ä¸å ªé‡è´Ÿã€‚   å¤§é‡çš„è¿æ¥å’Œé€šé“å¯èƒ½ä¼šå½±å“rabbitmqç®¡ç†æ¥å£çš„æ€§èƒ½   å…·æœ‰å¤§é‡è¿æ¥å’Œé€šé“çš„å¦ä¸€ä¸ªå½±å“ä¸ºrabbitmqç®¡ç†æ¥å£çš„æ€§èƒ½ã€‚å¯¹äºæ¯ä¸ªè¿æ¥å’Œé€šé“æ€§èƒ½ï¼ŒæŒ‡æ ‡å¿…é¡»æ”¶é›†ã€åˆ†æå’Œæ˜¾ç¤ºåº¦é‡ã€‚   Acknowledgements å’ŒConfirms   åœ¨è¿æ¥å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œä¼ è¾“ä¸­çš„æ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦é‡æ–°ä¼ è¾“æ­¤ç±»æ¶ˆæ¯ã€‚Acknowledgements è®©æœåŠ¡å™¨å’Œå®¢æˆ·æœºçŸ¥é“ä½•æ—¶é‡æ–°ä¼ è¾“æ¶ˆæ¯ã€‚å®¢æˆ·æœºå¯ä»¥åœ¨æ”¶åˆ°æ¶ˆæ¯æ—¶å¯¹å…¶è¿›è¡Œç¡®è®¤ï¼Œä¹Ÿå¯ä»¥åœ¨å®¢æˆ·æœºå®Œå…¨å¤„ç†å®Œæ¶ˆæ¯åå¯¹å…¶è¿›è¡Œç¡®è®¤ã€‚Acknowledgement å…·æœ‰æ€§èƒ½å½±å“ï¼Œå› æ­¤ä¸ºäº†å®ç°æœ€å¿«çš„ååé‡ï¼Œåº”è¯¥ç¦ç”¨æ‰‹åŠ¨ç¡®è®¤ã€‚   æ¥æ”¶é‡è¦æ¶ˆæ¯çš„æ¶ˆè´¹åº”ç”¨ç¨‹åºåœ¨å®Œæˆéœ€è¦å¯¹å…¶è¿›è¡Œçš„ä»»ä½•æ“ä½œä¹‹å‰ä¸åº”ç¡®è®¤æ¶ˆæ¯ï¼Œè¿™æ ·æœªå¤„ç†çš„æ¶ˆæ¯ï¼ˆå·¥ä½œè¿›ç¨‹å´©æºƒã€å¼‚å¸¸ç­‰ï¼‰å°±ä¸ä¼šä¸¢å¤±ã€‚   å‘å¸ƒç¡®è®¤ï¼Œæ˜¯ç›¸åŒçš„äº‹æƒ…ï¼Œä½†ç”¨äºå‘å¸ƒã€‚æœåŠ¡å™¨æ”¶åˆ°æ¥è‡ªå‘å¸ƒæœåŠ¡å™¨çš„æ¶ˆæ¯æ—¶ä¼šè¿›è¡Œç¡®è®¤ã€‚å‘å¸ƒç¡®è®¤ä¹Ÿä¼šå½±å“æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œåº”è¯¥è®°ä½ï¼Œå¦‚æœå‘å¸ƒè€…è‡³å°‘éœ€è¦å¤„ç†ä¸€æ¬¡æ¶ˆæ¯ï¼Œå°±éœ€è¦è¿™æ ·åšã€‚   æœªç¡®è®¤çš„æ¶ˆæ¯   æ‰€æœ‰æœªç¡®è®¤çš„æ¶ˆæ¯å¿…é¡»é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šçš„RAMä¸­ã€‚å¦‚æœæ‚¨æœ‰å¤ªå¤šæœªç¡®è®¤çš„æ¶ˆæ¯ï¼Œæ‚¨å°†è€—å°½å†…å­˜ã€‚é™åˆ¶æœªç¡®è®¤æ¶ˆæ¯çš„ä¸€ä¸ªæœ‰æ•ˆæ–¹æ³•æ˜¯å®¢æˆ·ç«¯é¢„å–çš„æ¶ˆæ¯æ•°åšå‡ºç›¸å…³è®¾ç½®ã€‚åœ¨é¢„å–éƒ¨åˆ†äº†è§£æœ‰å…³é¢„å–çš„æ›´å¤šä¿¡æ¯ã€‚   æŒä¹…æ¶ˆæ¯å’ŒæŒä¹…é˜Ÿåˆ—   å¦‚æœæ‚¨ä¸èƒ½æ‰¿å—ä¸¢å¤±ä»»ä½•æ¶ˆæ¯çš„ä»£ä»·ï¼Œè¯·ç¡®ä¿æ‚¨çš„é˜Ÿåˆ—å£°æ˜ä¸ºâ€œæŒä¹…â€ï¼Œå¹¶ä¸”æ‚¨çš„æ¶ˆæ¯ä»¥ä¼ é€’æ¨¡å¼â€œæŒä¹…â€å‘é€ã€‚   ä¸ºäº†é¿å…åœ¨ä¸­é—´ä»¶ä¸­ä¸¢å¤±æ¶ˆæ¯ï¼Œéœ€è¦ä¸ºä¸­é—´ä»¶é‡æ–°å¯åŠ¨ã€ä¸­é—´ä»¶ç¡¬ä»¶æ•…éšœæˆ–ä¸­é—´ä»¶å´©æºƒæ—¶åšå¥½å‡†å¤‡ã€‚ä¸ºäº†ç¡®ä¿æ¶ˆæ¯å’Œä¸­é—´ä»¶å®šä¹‰åœ¨é‡æ–°å¯åŠ¨åä»ç„¶å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å®ƒä»¬åœ¨ç£ç›˜ä¸Šã€‚åœ¨ä¸­é—´ä»¶é‡æ–°å¯åŠ¨æœŸé—´ï¼Œä¸æŒä¹…çš„æ¶ˆæ¯ã€äº¤æ¢å’Œé˜Ÿåˆ—å°†ä¼šè¢«ä¸¢å¤±ã€‚   æŒä¹…æ€§æ¶ˆæ¯æ›´é‡ï¼Œå› ä¸ºå®ƒä»¬å¿…é¡»å†™å…¥ç£ç›˜ã€‚è¯·è®°ä½ï¼Œå³ä½¿æ‚¨å‘é€çš„æ˜¯ä¸´æ—¶æ¶ˆæ¯ï¼Œæ‡’æƒ°çš„é˜Ÿåˆ—ä¹Ÿä¼šå¯¹æ€§èƒ½äº§ç”Ÿç›¸åŒçš„å½±å“ã€‚å¯¹äºé«˜æ€§èƒ½-è¯·ä½¿ç”¨ç¬æ€æ¶ˆæ¯ã€‚   TLS and AMQPS   æ‚¨å¯ä»¥é€šè¿‡amqpsè¿æ¥åˆ°rabbitmqï¼Œè¿™æ˜¯ç”¨tlsåŒ…è£…çš„amqpåè®®ã€‚ç”±äºæ‰€æœ‰æµé‡éƒ½å¿…é¡»åŠ å¯†å’Œè§£å¯†ï¼Œå› æ­¤TLSä¼šå½±å“æ€§èƒ½ã€‚ä¸ºäº†è·å¾—æœ€å¤§çš„æ€§èƒ½ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨vpcå¯¹ç­‰ï¼Œé‚£ä¹ˆæµé‡æ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”æ˜¯ç‹¬ç«‹çš„ï¼Œä¸æ¶‰åŠAMQPå®¢æˆ·æœº/æœåŠ¡å™¨ã€‚   åœ¨cloudamqpä¸­ï¼Œæˆ‘ä»¬å°†rabbitmqæœåŠ¡å™¨é…ç½®ä¸ºåªæ¥å—å¿«é€Ÿä½†å®‰å…¨çš„åŠ å¯†å¯†ç å¹¶ç¡®å®šå…¶ä¼˜å…ˆçº§ã€‚   é¢„å–ï¼ˆPrefetchï¼‰   é¢„å–å€¼ç”¨äºæŒ‡å®šå¤šå°‘æ¡æ¶ˆæ¯å°†åŒæ—¶è¢«å‘é€ç»™æ¶ˆè´¹è€…ã€‚å®ƒè¢«ç”¨æ¥ä»ä½ çš„æ¶ˆè´¹è€…é‚£é‡Œå¾—åˆ°å°½å¯èƒ½å¤šçš„ä¸œè¥¿(é¥±å’Œå·¥ä½œ)ã€‚   æ¥è‡ªrabbitmq.comï¼šâ€œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¶ˆè´¹è€…é¥±å’Œå·¥ä½œï¼Œä½†è¦æœ€å¤§é™åº¦åœ°å‡å°å®¢æˆ·æœºçš„ç¼“å†²åŒºå¤§å°ï¼Œå› æ­¤æ›´å¤šçš„æ¶ˆæ¯è¢«ç•™åœ¨Rabbitçš„é˜Ÿåˆ—ä¸­ï¼Œä»è€Œå¯¹æ–°çš„æ¶ˆè´¹è€…å¯ç”¨ï¼Œæˆ–è€…å‘é€ç»™é‚£äº›å˜å¾—ç©ºé—²çš„æ¶ˆè€…ã€‚â€   rabbitmqçš„é»˜è®¤é¢„å–è®¾ç½®ä¸ºå®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªä¸å—é™åˆ¶çš„ç¼“å†²åŒºï¼Œè¿™æ„å‘³ç€rabbitmqåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šå°†å°½å¯èƒ½å¤šçš„æ¶ˆæ¯å‘é€ç»™ä»»ä½•çœ‹èµ·æ¥å‡†å¤‡æ¥å—å®ƒä»¬çš„å®¢æˆ·æœºã€‚å‘é€çš„æ¶ˆæ¯ç”±rabbitmqå®¢æˆ·ç«¯åº“ï¼ˆåœ¨ä½¿ç”¨è€…ä¸­ï¼‰ç¼“å­˜ï¼Œç›´åˆ°å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚é¢„å–é™åˆ¶äº†åœ¨ç¡®è®¤æ¶ˆæ¯ä¹‹å‰å®¢æˆ·ç«¯å¯ä»¥æ¥æ”¶çš„æ¶ˆæ¯æ•°ã€‚æ‰€æœ‰é¢„å–çš„æ¶ˆæ¯éƒ½å°†ä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œå¹¶ä¸”å¯¹å…¶ä»–ä½¿ç”¨è€…ä¸å¯è§ã€‚   é¢„å–æ•°å¤ªå°å¯èƒ½ä¼šå½±å“æ€§èƒ½ï¼Œå› ä¸ºrabbitmqå¤§å¤šæ•°æ—¶é—´éƒ½åœ¨ç­‰å¾…è·å¾—å‘é€æ›´å¤šæ¶ˆæ¯çš„è®¸å¯ã€‚ä¸‹å›¾æ˜¾ç¤ºçš„æ˜¯é•¿æ—¶é—´çš„ç©ºè½¬æ—¶é—´ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒQoSé¢„å–è®¾ç½®ä¸º1ã€‚è¿™æ„å‘³ç€rabbitmqåœ¨å¾€è¿”å®Œæˆï¼ˆä¼ é€’ã€å¤„ç†ã€ç¡®è®¤ï¼‰ä¹‹å‰ä¸ä¼šå‘é€ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚å›¾ç‰‡ä¸­çš„æ•´ä¸ªå‘¨æœŸæ—¶é—´æ€»å…±ä¸º125msï¼Œå¤„ç†æ—¶é—´ä»…ä¸º5msã€‚   å¦ä¸€æ–¹é¢ï¼Œå¤§é‡çš„é¢„å–æ•°å¯ä»¥æ¥æ”¶é˜Ÿåˆ—ä¸­çš„å¤§é‡æ¶ˆæ¯å¹¶å°†å…¶ä¼ é€’ç»™åŒä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯å…¶ä»–ä½¿ç”¨è€…å´å¤„äºç©ºé—²çŠ¶æ€ã€‚   å¦‚ä½•è®¾ç½®åˆé€‚çš„é¢„å–å€¼ï¼Ÿ   å¦‚æœæ‚¨æœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªæ¶ˆè´¹è€…å¿«é€Ÿå¤„ç†æ¶ˆæ¯ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä¸€æ¬¡é¢„å–å¤šä¸ªæ¶ˆæ¯ã€‚å°½é‡è®©ä½ çš„å®¢æˆ·ç«¯ç¹å¿™ã€‚å¦‚æœæ‚¨ä¸€ç›´æœ‰å¤§çº¦ç›¸åŒçš„å¤„ç†æ—¶é—´ï¼Œå¹¶ä¸”ç½‘ç»œè¡Œä¸ºä¿æŒä¸å˜-æ‚¨åªéœ€åœ¨å®¢æˆ·æœºä¸Šä¸ºæ¯ä¸ªæ¶ˆæ¯è®¡ç®—æ€»çš„å¾€è¿”æ—¶é—´/å¤„ç†æ—¶é—´ï¼Œå³å¯è·å¾—ä¼°è®¡çš„é¢„å–å€¼ã€‚   å¦‚æœæ‚¨æœ‰è®¸å¤šæ¶ˆè´¹è€…ï¼Œå¹¶ä¸”å¤„ç†æ—¶é—´å¾ˆçŸ­ï¼Œæˆ‘ä»¬å»ºè®®é¢„å–å€¼è®¾ç½®çš„åº”è¯¥æ¯”å•ä¸ªæˆ–å°‘æ•°ä½¿ç”¨è€…è¦ä½ä¸€äº›ã€‚å¤ªä½çš„å€¼ä¼šè®©æ¶ˆè´¹è€…ç©ºè½¬å¾ˆå¤šï¼Œå› ä¸ºä»–ä»¬éœ€è¦ç­‰å¾…æ¶ˆæ¯åˆ°è¾¾ã€‚è¿‡é«˜çš„å€¼å¯èƒ½ä¼šä½¿ä¸€ä¸ªæ¶ˆè´¹è€…å¿™ç¢Œï¼Œè€Œå…¶ä»–æ¶ˆè´¹è€…åˆ™å¤„äºç©ºé—²çŠ¶æ€ã€‚   å¦‚æœæ‚¨æœ‰è®¸å¤šä½¿ç”¨è€…å’Œ/æˆ–å¤„ç†æ—¶é—´è¾ƒé•¿ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨å°†é¢„å–è®¡æ•°è®¾ç½®ä¸º1ï¼Œä»¥ä¾¿æ¶ˆæ¯åœ¨æ‰€æœ‰æ¶ˆè´¹è€…ä¸­å‡åŒ€åˆ†å¸ƒã€‚   è¯·æ³¨æ„ï¼Œå¦‚æœå®¢æˆ·ç«¯è‡ªåŠ¨ç¡®è®¤æ¶ˆæ¯ï¼Œåˆ™é¢„å–å€¼å°†ä¸èµ·ä½œç”¨ã€‚   ä¸€ä¸ªå…¸å‹çš„é”™è¯¯æ˜¯æœ‰ä¸€ä¸ªæ— é™çš„é¢„å–ï¼Œå…¶ä¸­ä¸€ä¸ªå®¢æˆ·æœºæ¥æ”¶æ‰€æœ‰çš„æ¶ˆæ¯ï¼Œè€—å°½å†…å­˜å¹¶å´©æºƒï¼Œç„¶åæ‰€æœ‰çš„æ¶ˆæ¯éƒ½è¢«é‡æ–°ä¼ é€’ã€‚   æœ‰å…³rabbitmqé¢„å–çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…æ¨èçš„rabbitmqæ–‡æ¡£ã€‚   HiPE   HIPEå°†ä»¥å¢åŠ å¯åŠ¨æ—¶é—´ä¸ºä»£ä»·å¢åŠ æœåŠ¡å™¨ååé‡ã€‚å¯ç”¨HIPEæ—¶ï¼Œå°†åœ¨å¯åŠ¨æ—¶ç¼–è¯‘rabbitmqã€‚æ ¹æ®æˆ‘ä»¬çš„åŸºå‡†æµ‹è¯•ï¼Œååé‡å¢åŠ äº†20-80%ã€‚HIPEçš„ç¼ºç‚¹æ˜¯å¯åŠ¨æ—¶é—´ä¹Ÿå¢åŠ äº†å¾ˆå¤šï¼Œå¤§çº¦1-3åˆ†é’Ÿã€‚åœ¨rabbitmqçš„æ–‡æ¡£ä¸­ï¼Œhipeä»ç„¶è¢«æ ‡è®°ä¸ºå®éªŒæ€§çš„ã€‚   å¦‚æœæ‚¨éœ€è¦é«˜å¯ç”¨æ€§ï¼Œè¯·ä¸è¦å¯ç”¨HIPEã€‚   ç¾¤é›†ä¸­çš„èŠ‚ç‚¹æ•°ï¼ˆç¾¤é›†å’Œé«˜å¯ç”¨æ€§ï¼‰   å½“æ‚¨ç”¨ä¸€ä¸ªèŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªcloudamqpå®ä¾‹æ—¶ï¼Œæ‚¨å°†å¾—åˆ°ä¸€ä¸ªå…·æœ‰é«˜æ€§èƒ½çš„å•ä¸ªèŠ‚ç‚¹ã€‚ä¸€ä¸ªèŠ‚ç‚¹å°†ä¸ºæ‚¨æä¾›æœ€é«˜çš„æ€§èƒ½ï¼Œå› ä¸ºæ¶ˆæ¯ä¸éœ€è¦åœ¨å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´è¿›è¡Œé•œåƒã€‚   å½“æ‚¨ä½¿ç”¨ä¸¤ä¸ªèŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªCloudAMQPå®ä¾‹æ—¶ï¼Œä¸å•ä¸ªèŠ‚ç‚¹çš„ç›¸æ¯”ï¼Œæ‚¨å°†è·å¾—ä¸€åŠçš„æ€§èƒ½ã€‚èŠ‚ç‚¹ä½äºä¸åŒçš„å¯ç”¨æ€§åŒºåŸŸï¼Œé˜Ÿåˆ—åœ¨å¯ç”¨æ€§åŒºåŸŸä¹‹é—´è‡ªåŠ¨é•œåƒã€‚ä¸¤ä¸ªèŠ‚ç‚¹å°†ä¸ºæ‚¨æä¾›é«˜å¯ç”¨æ€§ï¼Œå› ä¸ºä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½å´©æºƒæˆ–è¢«æ ‡è®°ä¸ºå—æŸï¼Œä½†å¦ä¸€ä¸ªèŠ‚ç‚¹ä»å°†å¯åŠ¨å¹¶è¿è¡Œï¼Œå‡†å¤‡æ¥æ”¶æ¶ˆæ¯ã€‚   å½“æ‚¨ä½¿ç”¨ä¸‰ä¸ªèŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªCloudAMQPå®ä¾‹æ—¶ï¼Œä¸å•ä¸ªèŠ‚ç‚¹çš„ç›¸åŒè®¡åˆ’å¤§å°ç›¸æ¯”ï¼Œæ‚¨å°†è·å¾—1/4çš„æ€§èƒ½ã€‚èŠ‚ç‚¹ä½äºä¸åŒçš„å¯ç”¨æ€§åŒºåŸŸï¼Œé˜Ÿåˆ—åœ¨å¯ç”¨æ€§åŒºåŸŸä¹‹é—´è‡ªåŠ¨é•œåƒã€‚æ‚¨ä¹Ÿå¯ä»¥æš‚åœå°‘æ•°ç»„ä»¶-ä¸å…è®¸æ¯ä¸ªèŠ‚ç‚¹å“åº”ç›¸æ¯”ï¼Œé€šè¿‡å…³é—­å°‘æ•°ç»„ä»¶ï¼Œæ‚¨å‡å°‘äº†é‡å¤ä¼ é€’ã€‚æš‚åœå°‘æ•°ç»„ä»¶æ˜¯ä¸‰èŠ‚ç‚¹é›†ç¾¤ä¸­çš„ä¸€ç§åˆ†åŒºå¤„ç†ç­–ç•¥ï¼Œå®ƒå¯ä»¥é˜²æ­¢ç”±äºç½‘ç»œæ‹†åˆ†è€Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚   è®°ä½åœ¨æ–°vhostsä¸Šå¯ç”¨HA   æˆ‘ä»¬åœ¨cloudamqpé›†ç¾¤ä¸­æ³¨æ„åˆ°çš„ä¸€ä¸ªå¸¸è§é”™è¯¯æ˜¯ï¼Œç”¨æˆ·åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„vhostï¼Œä½†å¿˜è®°ä¸ºæ–°çš„vhostå¯ç”¨ä¸€ä¸ªhaç­–ç•¥ã€‚å¦‚æœæ²¡æœ‰HAç­–ç•¥ï¼Œåˆ™ä¸ä¼šåœ¨èŠ‚ç‚¹ä¹‹é—´åŒæ­¥æ¶ˆæ¯ã€‚   Routing (exchanges è®¾ç½®)   ç›´æ¥äº¤æ¢æ˜¯æœ€å¿«é€Ÿã€‚å¦‚æœæœ‰è®¸å¤šbindings ï¼Œrabbitmqå¿…é¡»è®¡ç®—å°†æ¶ˆæ¯å‘é€åˆ°ä½•å¤„ã€‚   Disable æ— ç”¨çš„ plugins   æœ‰äº›æ’ä»¶å¯èƒ½éå¸¸å¥½ç”¨ï¼Œä½†å®ƒä»¬å¯èƒ½ä¼šæ¶ˆè€—å¤§é‡çš„CPUæˆ–RAMã€‚å› æ­¤ï¼Œä¸å»ºè®®å°†å®ƒä»¬ç”¨äºç”Ÿäº§æœåŠ¡å™¨ã€‚ç¡®ä¿ç¦ç”¨ä¸ä½¿ç”¨çš„æ’ä»¶ã€‚æ‚¨å¯ä»¥é€šè¿‡CloudAmqpä¸­çš„æ§åˆ¶é¢æ¿å¯ç”¨è®¸å¤šä¸åŒçš„æ’ä»¶ã€‚  ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒå°†rabbitmqç®¡ç†ç»Ÿè®¡é€Ÿç‡æ¨¡å¼è®¾ç½®ä¸ºç”Ÿäº§ä¸­çš„â€œè¯¦ç»†ä¿¡æ¯â€   å°†rabbitmqç®¡ç†ç»Ÿè®¡é€Ÿç‡æ¨¡å¼è®¾ç½®ä¸ºdetailedä¼šä¸¥é‡å½±å“æ€§èƒ½ï¼Œä¸åº”åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ã€‚   ä½¿ç”¨æ›´æ–°çš„rabbitmqå®¢æˆ·ç«¯åº“   ç¡®ä¿æ‚¨ä½¿ç”¨çš„æ˜¯æœ€æ–°æ¨èçš„å®¢æˆ·ç«¯åº“ç‰ˆæœ¬  ä½¿ç”¨æœ€æ–°ç¨³å®šçš„rabbitmqå’Œerlangç‰ˆæœ¬   ä¿æŒæœ€æ–°ç¨³å®šç‰ˆæœ¬çš„rabbitmqå’Œerlangã€‚åœ¨ä¸ºå®¢æˆ·å‘å¸ƒæ–°çš„ä¸»è¦ç‰ˆæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä¸ºæ–°é›†ç¾¤é€‰æ‹©ç‰ˆæœ¬çš„ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬å§‹ç»ˆä½¿ç”¨æœ€æ¨èçš„ç‰ˆæœ¬ä½œä¸ºæ‰€é€‰é€‰é¡¹ï¼ˆé»˜è®¤ï¼‰ã€‚   å°å¿ƒä½¿ç”¨TTL   Dead letteringå’ŒTTLæ˜¯rabbitmqä¸­çš„ä¸¤ä¸ªæµè¡ŒåŠŸèƒ½ï¼Œåº”è¯¥è°¨æ…ä½¿ç”¨ã€‚TTLå’ŒDead letteringå¯ä»¥äº§ç”Ÿæ‚¨æ²¡æœ‰é¢„æ–™åˆ°çš„æ€§èƒ½å½±å“ã€‚   Dead lettering   ä½¿ç”¨x-dead-letter-exchangeå±æ€§å£°æ˜çš„é˜Ÿåˆ—å°†å‘æŒ‡å®šçš„dead-letter-exchange å‘é€è¢«æ‹’ç»ã€éç¡®è®¤æˆ–è¿‡æœŸï¼ˆå¸¦æœ‰ttlï¼‰çš„æ¶ˆæ¯ã€‚å¦‚æœæ‚¨æŒ‡å®šäº†x-dead-letter-routing-keyï¼Œåˆ™æ¶ˆæ¯çš„è·¯ç”±é”®å°†åœ¨dead letteredæ—¶æ›´æ”¹ã€‚   TTL  é€šè¿‡ä½¿ç”¨x-message-ttlå±æ€§å£°æ˜é˜Ÿåˆ—ï¼Œå¦‚æœæ¶ˆæ¯åœ¨æŒ‡å®šçš„æ—¶é—´å†…æœªè¢«ä½¿ç”¨ï¼Œåˆ™å°†ä»é˜Ÿåˆ—ä¸­ä¸¢å¼ƒæ¶ˆæ¯ã€‚  ","categories": ["MQ"],
        "tags": ["Rabbit Mq"],
        "url": "/jekyll-blog/mq/RabbitMQ%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "spring cloud configå¿«é€Ÿå…¥é—¨",
        "excerpt":"Spring Cloud Config è·¨å¤šä¸ªåº”ç”¨ç¨‹åºå’Œç¯å¢ƒï¼Œç”¨äºå­˜å‚¨å’Œæä¾›åˆ†å¸ƒå¼é…ç½®çš„ clinet/serveræ–¹æ¡ˆã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œæ­¤é…ç½®å­˜å‚¨åœ¨ Git ç‰ˆæœ¬æ§åˆ¶ä¸‹è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œå¹¶ä¸”å¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶è¿›è¡Œä¿®æ”¹ã€‚ è™½ç„¶å®ƒéå¸¸é€‚åˆSpring applicationsæ‰€æœ‰æ”¯æŒçš„é…ç½®æ–‡ä»¶æ ¼å¼ä»¥åŠ Environmentã€PropertySource æˆ– @Value ç­‰ç»“æ„çš„ Spring åº”ç”¨ç¨‹åºï¼Œä½†å®ƒä¹Ÿå¯ä»¥ç”¨äºä»»ä½•ç¼–ç¨‹è¯­è¨€è¿è¡Œçš„ä»»ä½•ç¯å¢ƒä½¿ç”¨ã€‚   åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹ä»‹ç»å¦‚ä½•è®¾ç½® Git æ”¯æŒçš„é…ç½®æœåŠ¡å™¨ã€åœ¨ç®€å•çš„ REST åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­ä½¿ç”¨å®ƒä»¥åŠè®¾ç½®åŒ…æ‹¬åŠ å¯†å±æ€§å€¼åœ¨å†…çš„å®‰å…¨ç¯å¢ƒçš„ç¤ºä¾‹ã€‚                                                                                          spring cloud config æ¶æ„              ç›®å½•     é¡¹ç›®ä¾èµ–   serverç«¯é…ç½®   åˆå§‹åŒ– é…ç½®ä»“åº“   æŸ¥è¯¢é…ç½®   clienté…ç½®   åŠ å¯†å’Œè§£å¯†   CSRF   keyç®¡ç†   ä½¿ç”¨å¤šä¸ªkeys   åŠ å¯†é…ç½®   æ€»ç»“        é¡¹ç›®ä¾èµ–      é¦–å…ˆåˆ›å»ºä¸¤ä¸ªæ–°çš„ Maven é¡¹ç›®ã€‚server é¡¹ç›®ä¾èµ–äº spring-cloud-config-server æ¨¡å—ï¼Œä»¥åŠ spring-boot-starter-security å’Œ spring-boot-starter-web å¯åŠ¨åŒ….   &lt;dependency&gt;     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;     &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;      å¯¹äºclienté¡¹ç›®ï¼Œæˆ‘ä»¬å°†åªéœ€è¦ spring-cloud-starter-config å’Œ spring-boot-starter-web æ¨¡å—.   &lt;dependency&gt;     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;     &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;   serverç«¯é…ç½®   serveråº”ç”¨ç¨‹åºçš„ä¸»è¦éƒ¨åˆ†æ˜¯ä¸€ä¸ªé…ç½®ç±»â€”â€”æ›´å…·ä½“åœ°è¯´æ˜¯ä¸€ä¸ª@SpringBootApplicationâ€”â€”å®ƒé€šè¿‡è‡ªåŠ¨é…ç½®æ³¨é‡Š@EnableConfigServer å¼•å…¥æ‰€æœ‰éœ€è¦çš„è®¾ç½®ï¼š   @SpringBootApplication @EnableConfigServer public class ConfigServer {          public static void main(String[] arguments) {         SpringApplication.run(ConfigServer.class, arguments);     } }   é…ç½®æœåŠ¡å™¨ç«¯å£å’Œä¸€ä¸ªæä¾›ç‰ˆæœ¬æ§åˆ¶çš„ Git-urlã€‚   TIP: å¦‚æœæ‚¨è®¡åˆ’ä½¿ç”¨æŒ‡å‘åŒä¸€ä¸ªé…ç½®å­˜å‚¨åº“çš„å¤šä¸ªé…ç½®æœåŠ¡å™¨å®ä¾‹ï¼Œæ‚¨å¯ä»¥å°†æœåŠ¡å™¨é…ç½®ä¸ºå°†æ‚¨çš„å­˜å‚¨åº“å…‹éš†åˆ°æœ¬åœ°ä¸´æ—¶æ–‡ä»¶å¤¹ä¸­ã€‚ä½†æ˜¯è¯·æ³¨æ„å…·æœ‰åŒå› ç´ èº«ä»½éªŒè¯çš„ç§æœ‰å­˜å‚¨åº“ï¼Œå®ƒä»¬å¾ˆéš¾å¤„ç†ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šå…‹éš†å®ƒä»¬å¹¶ä½¿ç”¨å‰¯æœ¬ä¼šæ›´å®¹æ˜“ã€‚   è¿˜æœ‰ä¸€äº›å ä½ç¬¦å˜é‡å’Œæœç´¢æ¨¡å¼ç”¨äºé…ç½®å¯ç”¨çš„å­˜å‚¨åº“ url.ä½†è¿™è¶…å‡ºäº†æˆ‘ä»¬æ–‡ç« çš„èŒƒå›´ã€‚å®˜æ–¹æ–‡æ¡£æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚ æˆ‘ä»¬è¿˜éœ€è¦åœ¨ application.properties ä¸­ä¸º Basic-Authentication è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œä»¥é¿å…æ¯æ¬¡éƒ½è‡ªåŠ¨ç”Ÿæˆå¯†ç  åº”ç”¨ç¨‹åºé‡å¯ï¼š   server.port=8888 spring.cloud.config.server.git.uri=ssh://localhost/config-repo spring.cloud.config.server.git.clone-on-start=true spring.security.user.name=root spring.security.user.password=s3cr3t    åˆå§‹åŒ– é…ç½®ä»“åº“   ä¸ºäº†å®Œæˆæˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨server  é…ç½®çš„ spring.cloud.config.server.git.uri åˆå§‹åŒ–ä¸€ä¸ª Git repositoryã€‚  é…ç½®æ–‡ä»¶çš„åç§°åƒæ™®é€šçš„ Spring application.properties ä¸€æ ·ç»„æˆï¼Œä½†ä¸æ˜¯applicationè¿™ä¸ªè¯ã€‚ä¾‹å¦‚ï¼š   $&gt; git init $&gt; echo 'user.role=Developer' &gt; config-client-development.properties $&gt; echo 'user.role=User'      &gt; config-client-production.properties $&gt; git add . $&gt; git commit -m 'Initial config-client properties'   æŸ¥è¯¢é…ç½®      å¯åŠ¨server ç«¯ã€‚   ä½¿ç”¨ä»¥ä¸‹api æŸ¥è¯¢ é…ç½®ä¿¡æ¯.     /{application}/{profile}[/{label}]   /{application}-{profile}.yml   /{label}/{application}-{profile}.yml   /{application}-{profile}.properties   /{label}/{application}-{profile}.properties   å…¶ä¸­ {label} å ä½ç¬¦æŒ‡çš„æ˜¯ Git åˆ†æ”¯ï¼Œ{application} æŒ‡çš„æ˜¯å®¢æˆ·ç«¯çš„åº”ç”¨ç¨‹åºåç§°ï¼Œè€Œ {profile} æŒ‡çš„æ˜¯å®¢æˆ·ç«¯å½“å‰æ´»åŠ¨çš„åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ã€‚   æ¯”å¦‚ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ£€ç´¢åœ¨åˆ†æ”¯ master ä¸‹ profile=developmentçš„é…ç½®å±æ€§.   $&gt; curl http://root:s3cr3t@localhost:8888/config-client/development/master   clienté…ç½®   è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºï¼Œç”±ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ª GET æ–¹æ³•çš„ REST æ§åˆ¶å™¨ç»„æˆã€‚ ç”¨äºè·å–æœåŠ¡å™¨çš„é…ç½®å¿…é¡»æ”¾åœ¨åä¸º bootstrap.application çš„resourceæ–‡ä»¶ä¸­ï¼Œå› ä¸ºè¯¥æ–‡ä»¶ï¼ˆé¡¾åæ€ä¹‰ï¼‰å°†åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å¾ˆæ—©åŠ è½½ï¼š      app:   @SpringBootApplication @RestController public class ConfigClient {          @Value(\"${user.role}\")     private String role;      public static void main(String[] args) {         SpringApplication.run(ConfigClient.class, args);     }      @GetMapping(       value = \"/whoami/{username}\",         produces = MediaType.TEXT_PLAIN_VALUE)     public String whoami(@PathVariable(\"username\") String username) {         return String.format(\"Hello!            You're %s and you'll become a(n) %s...\\n\", username, role);     } }      bootstrap.properties:   spring.application.name=config-client spring.profiles.active=development spring.cloud.config.uri=http://localhost:8888 spring.cloud.config.username=root spring.cloud.config.password=s3cr3t      test:   $&gt; curl http://localhost:8080/whoami/Mr_Pink     ç»“æœâ€™   Hello! You're Mr_Pink and you'll become a(n) Developer...   åŠ å¯†å’Œè§£å¯†   å¿…é¡»ï¼šè¦å°†â€œå¯†ç å­¦â€œä¸­å¼ºåŠ å¯†ä¸ Spring åŠ å¯†å’Œè§£å¯†åŠŸèƒ½ä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨éœ€è¦åœ¨ JVM ä¸­å®‰è£… Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Filesã€‚è¿™äº›å¯ä»¥ä» Oracle å®˜ç½‘ä¸‹è½½ã€‚   ç”±äºé…ç½®æœåŠ¡å™¨æ­£åœ¨æ”¯æŒå±æ€§å€¼çš„åŠ å¯†å’Œè§£å¯†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å…¬å…±å­˜å‚¨åº“æ¥å­˜å‚¨è¯¸å¦‚ç”¨æˆ·åå’Œå¯†ç ç­‰æ•æ„Ÿæ•°æ®ã€‚åŠ å¯†å€¼ä»¥å­—ç¬¦ä¸² {cipher} ä¸ºå‰ç¼€ã€‚å¦‚æœæœåŠ¡å™¨é…ç½®ä¸ºä½¿ç”¨å¯¹ç§°å¯†é’¥æˆ–å¯†é’¥å¯¹ï¼Œåˆ™å¯ä»¥é€šè¿‡å¯¹è·¯å¾„/encryptçš„ REST è°ƒç”¨ç”ŸæˆåŠ å¯†ä¿¡æ¯ã€‚   å½“ç„¶è§£å¯†çš„ç«¯ç‚¹ä¹Ÿæ˜¯å¯ç”¨çš„ã€‚åŠ è§£å¯†è¿™ä¸¤ä¸ªç«¯ç‚¹éƒ½æ¥å—åŒ…å«åº”ç”¨ç¨‹åºåç§°åŠå…¶å½“å‰profileé…ç½®æ–‡ä»¶çš„å ä½ç¬¦çš„è·¯å¾„ï¼š/*/{name}/{profile}ã€‚è¿™å¯¹äºæ§åˆ¶æ¯â€‹â€‹ä¸ªå®¢æˆ·ç«¯çš„åŠ å¯†ç‰¹åˆ«æœ‰ç”¨ã€‚ä½†æ˜¯ï¼Œåœ¨å®ƒä»¬å˜å¾—æœ‰ç”¨ä¹‹å‰ï¼Œæ‚¨å¿…é¡»é…ç½®ä¸€ä¸ªåŠ å¯†å¯†é’¥ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­è¿›è¡Œã€‚   TIP: å¦‚æœæ‚¨ä½¿ç”¨ curl è°ƒç”¨ en-/decryption APIï¼Œæœ€å¥½ä½¿ç”¨ â€“data-urlencode é€‰é¡¹ï¼ˆè€Œä¸æ˜¯ â€“data/-dï¼‰ï¼Œæˆ–è€…å°† Content-Type æ ‡å¤´æ˜¾å¼è®¾ç½®ä¸º text/plainã€‚è¿™ç¡®ä¿æ­£ç¡®å¤„ç†åŠ å¯†å€¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚+ã€‚   å¦‚æœé€šè¿‡å®¢æˆ·ç«¯è·å–é…ç½®æ—¶å‘ç°æ— æ³•è‡ªåŠ¨è§£å¯†æŸä¸ªå€¼ï¼Œé‚£ä¹ˆå…¶keyså°†ä½¿ç”¨åç§°æœ¬èº«é‡å‘½åï¼Œå¹¶ä»¥ invalidä¸€è¯ä¸ºå‰ç¼€ã€‚è¿™ç§æƒ…å†µåº”è¯¥é¿å…å‘ç”Ÿï¼Œä¾‹å¦‚ä½¿ç”¨åŠ å¯†å€¼ä½œä¸ºå¯†ç ã€‚   TIP:: åœ¨è®¾ç½®åŒ…å« YAML æ–‡ä»¶çš„å­˜å‚¨åº“æ—¶ï¼Œæ‚¨å¿…é¡»ç”¨å•å¼•å·å°†åŠ å¯†å’Œå‰ç¼€å€¼æ‹¬èµ·æ¥ï¼å¯¹äºPropertiesï¼Œæƒ…å†µå¹¶éå¦‚æ­¤ã€‚   CSRF   é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Security ä¸ºå‘é€åˆ°æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ‰€æœ‰è¯·æ±‚å¯ç”¨ CSRF ä¿æŠ¤ã€‚ å› æ­¤ï¼Œä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ /encrypt å’Œ /decrypt ç«¯ç‚¹ï¼Œè®©æˆ‘ä»¬ä¸ºå®ƒä»¬ç¦ç”¨ CSRFï¼š   @Configuration public class SecurityConfiguration extends WebSecurityConfigurerAdapter {      @Override     public void configure(HttpSecurity http) throws Exception {         http.csrf()           .ignoringAntMatchers(\"/encrypt/**\")           .ignoringAntMatchers(\"/decrypt/**\");          super.configure(http);     } }   keyç®¡ç†   é…ç½®æœåŠ¡å™¨é»˜è®¤å¯ç”¨ä»¥å¯¹ç§°æˆ–éå¯¹ç§°æ–¹å¼åŠ å¯†å±æ€§å€¼ã€‚           å¯¹ç§°åŠ å¯†ï¼Œæ‚¨åªéœ€å°† application.properties ä¸­çš„å±æ€§ encrypt.key è®¾ç½®ä¸ºæ‚¨é€‰æ‹©çš„æœºå¯†ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä¼ å…¥ç¯å¢ƒå˜é‡ ENCRYPT_KEYã€‚            éå¯¹ç§°åŠ å¯†ï¼Œ æ‚¨å¯ä»¥å°† encrypt.key è®¾ç½®ä¸º PEMç¼–ç  çš„å­—ç¬¦ä¸²å€¼æˆ– é…ç½®ä½¿ç”¨keystoreã€‚       å› ä¸ºæˆ‘ä»¬çš„æ¼”ç¤ºæœåŠ¡å™¨éœ€è¦ä¸€ä¸ªé«˜åº¦å®‰å…¨çš„ç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†åä¸€ä¸ªé€‰é¡¹å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯†é’¥åº“ï¼ŒåŒ…æ‹¬ä¸€ä¸ª RSA å¯†é’¥å¯¹.      ä½¿ç”¨ Java å¯†é’¥å·¥å…·ï¼š   $&gt; keytool -genkeypair -alias config-server-key \\        -keyalg RSA -keysize 4096 -sigalg SHA512withRSA \\        -dname 'CN=Config Server,OU=Spring Cloud,O=Baeldung' \\        -keypass my-k34-s3cr3t -keystore config-server.jks \\        -storepass my-s70r3-s3cr3t      æˆ‘ä»¬å°†åˆ›å»ºçš„å¯†é’¥åº“æ·»åŠ åˆ°æˆ‘ä»¬æœåŠ¡å™¨çš„ bootstrap.properties å¹¶é‡æ–°è¿è¡Œå®ƒï¼š   encrypt.keyStore.location=classpath:/config-server.jks encrypt.keyStore.password=my-s70r3-s3cr3t encrypt.keyStore.alias=config-server-key encrypt.keyStore.secret=my-k34-s3cr3t      æˆ‘ä»¬å¯ä»¥æŸ¥è¯¢åŠ å¯†ç«¯ç‚¹å¹¶å°†å“åº”ä½œä¸ºå€¼æ·»åŠ åˆ°æˆ‘ä»¬å­˜å‚¨åº“ä¸­çš„é…ç½®ä¸­ï¼š   $&gt; export PASSWORD=$(curl -X POST --data-urlencode d3v3L \\        http://root:s3cr3t@localhost:8888/encrypt) $&gt; echo \"user.password={cipher}$PASSWORD\" &gt;&gt; config-client-development.properties $&gt; git commit -am 'Added encrypted password' $&gt; curl -X POST http://root:s3cr3t@localhost:8888/refresh      éªŒè¯ã€‚ å¦‚æœæˆ‘ä»¬çš„è®¾ç½®å·¥ä½œæ­£å¸¸ï¼Œä¿®æ”¹ ConfigClient ç›¸å…³ç±»å¹¶é‡æ–°å¯åŠ¨æˆ‘ä»¬çš„å®¢æˆ·ç«¯ï¼š   @SpringBootApplication @RestController public class ConfigClient {      ...          @Value(\"${user.password}\")     private String password;      ...     public String whoami(@PathVariable(\"username\") String username) {         return String.format(\"Hello!            You're %s and you'll become a(n) %s, \" +           \"but only if your password is '%s'!\\n\",            username, role, password);     } }      ç»“æœ. å¦‚æœæˆ‘ä»¬çš„é…ç½®å€¼è¢«æ­£ç¡®è§£å¯†ï¼Œå¯¹æˆ‘ä»¬çš„å®¢æˆ·ç«¯çš„æœ€ç»ˆæŸ¥è¯¢ä¸º:   $&gt; curl http://localhost:8080/whoami/Mr_Pink Hello! You're Mr_Pink and you'll become a(n) Developer, \\   but only if your password is 'd3v3L'!    ä½¿ç”¨å¤šä¸ªkeys   å¦‚æœæ‚¨æƒ³ä½¿ç”¨å¤šä¸ªå¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œä¾‹å¦‚ï¼šä¸ºæ¯ä¸ªæœåŠ¡çš„åº”ç”¨ç¨‹åºä½¿ç”¨ä¸€ä¸ªä¸“ç”¨å¯†é’¥ï¼Œæ‚¨å¯ä»¥åœ¨ {cipher} å‰ç¼€å’Œ BASE64 ç¼–ç çš„å±æ€§å€¼ä¹‹é—´ä»¥ {name:value} çš„å½¢å¼æ·»åŠ å¦ä¸€ä¸ªå‰ç¼€.   é…ç½®æœåŠ¡å™¨ç†è§£å¦‚{secret:my-crypto-secret} æˆ– {key:my-key-alias}çš„å‰ç¼€ï¼Œ, å‡ ä¹æ˜¯å¼€ç®±å³ç”¨çš„ã€‚éå¯¹ç§°åŠ å¯† éœ€è¦åœ¨ application.properties ä¸­é…ç½®keystoreã€‚å¯†é’¥åº“ä»¥æ‰€åŒ¹é…å¯†é’¥åˆ«åæ¥æœç´¢å‡ºæ¥ã€‚ä¾‹å¦‚ï¼š   user.password={cipher}{secret:my-499-s3cr3t}AgAMirj1DkQC0WjRv... user.password={cipher}{key:config-client-key}AgAMirj1DkQC0WjRv...   TIP: å¯¹äºæ²¡æœ‰å¯†é’¥åº“çš„åœºæ™¯ï¼Œæ‚¨å¿…é¡»å®ç°ä¸€ä¸ª TextEncryptorLocator ç±»å‹çš„ @Beanï¼Œå®ƒå¤„ç†æŸ¥æ‰¾å¹¶ä¸ºæ¯ä¸ªå¯†é’¥è¿”å›ä¸€ä¸ª TextEncryptor-Objectã€‚   åŠ å¯†é…ç½®   å¦‚æœè¦ç¦ç”¨æœåŠ¡å™¨ç«¯åŠ å¯†å¹¶åœ¨æœ¬åœ°å¤„ç†å±æ€§å€¼çš„è§£å¯†ï¼Œå¯ä»¥å°†ä»¥ä¸‹å†…å®¹æ”¾å…¥æœåŠ¡å™¨çš„ application.propertiesï¼š   spring.cloud.config.server.encrypt.enabled=false   æ€»ç»“   ç°åœ¨æˆ‘ä»¬èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªé…ç½®æœåŠ¡å™¨æ¥ä» Git å­˜å‚¨åº“å‘å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæä¾›ä¸€ç»„é…ç½®æ–‡ä»¶ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ­¤ç±»æœåŠ¡â€‹â€‹å™¨æ‰§è¡Œå…¶ä»–ä¸€äº›æ“ä½œã€‚ ä¾‹å¦‚ï¼š      ä»¥ YAML æˆ– Properties æ ¼å¼è€Œä¸æ˜¯ JSON æä¾›é…ç½®â€”â€”ä¹Ÿè§£å†³äº†å ä½ç¬¦é—®é¢˜ã€‚ åœ¨é Spring ç¯å¢ƒä¸­ä½¿ç”¨å®ƒæ—¶ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œå…¶ä¸­é…ç½®ä¸ç›´æ¥æ˜ å°„åˆ° PropertySourceã€‚   æä¾›çº¯æ–‡æœ¬é…ç½®æ–‡ä»¶ã€‚ ä¾æ¬¡å¯é€‰åœ°ä½¿ç”¨å·²è§£æçš„å ä½ç¬¦ã€‚ä¾‹å¦‚ï¼Œè¿™å¯¹äºæä¾›ä¾èµ–äºç¯å¢ƒçš„æ—¥å¿—è®°å½•é…ç½®å¾ˆæœ‰ç”¨ã€‚   å°†é…ç½®æœåŠ¡å™¨åµŒå…¥åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œå®ƒä» Git å­˜å‚¨åº“é…ç½®è‡ªèº«ï¼Œè€Œä¸æ˜¯ä½œä¸ºç‹¬ç«‹çš„åº”ç”¨ç¨‹åºè¿è¡Œï¼Œä¸ºå®¢æˆ·ç«¯æä¾›æœåŠ¡ã€‚å› æ­¤ï¼Œå¿…é¡»è®¾ç½®ä¸€äº›å¼•å¯¼ç¨‹åºå±æ€§å’Œ/æˆ–å¿…é¡»åˆ é™¤ @EnableConfigServer æ³¨é‡Šï¼Œè¿™å–å†³äºç”¨ä¾‹ã€‚   ä½¿é…ç½®æœåŠ¡å™¨å¯ç”¨äº Spring Netflix EurekaæœåŠ¡å‘ç°å¹¶å¯ç”¨ é…ç½®å®¢æˆ·ç«¯ä¸­çš„è‡ªåŠ¨æœåŠ¡å™¨å‘ç°ã€‚ å¦‚æœæœåŠ¡å™¨æ²¡æœ‰å›ºå®šä½ç½®æˆ–åœ¨å…¶ä½ç½®ç§»åŠ¨ï¼Œè¿™å°†å˜å¾—å¾ˆé‡è¦ã€‚  ","categories": ["Spring Cloud"],
        "tags": ["Spring Cloud Config"],
        "url": "/jekyll-blog/spring%20cloud/spring-cloud-config%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "Alibaba Sentinelä»‹ç»",
        "excerpt":"é¡¾åæ€ä¹‰ï¼ŒSentinel æ˜¯å¾®æœåŠ¡çš„å¼ºå¤§å®ˆæŠ¤è€…ã€‚å®ƒæä¾›æµé‡æ§åˆ¶ã€å¹¶å‘é™åˆ¶ã€æ–­è·¯å’Œè‡ªé€‚åº”ç³»ç»Ÿä¿æŠ¤ç­‰åŠŸèƒ½ï¼Œä»¥ä¿è¯å…¶å¯é æ€§ã€‚å®ƒæ˜¯é˜¿é‡Œå·´å·´é›†å›¢ç§¯æç»´æŠ¤çš„å¼€æºç»„ä»¶ã€‚æ­¤å¤–ï¼Œå®ƒæ­£å¼æˆä¸º Spring Cloud Circuit Breaker. çš„ä¸€éƒ¨åˆ†ã€‚   åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†äº†è§£ Sentinel çš„ä¸€äº›ä¸»è¦åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨å®ƒçš„ç¤ºä¾‹ã€å®ƒçš„æ³¨é‡Šæ”¯æŒå’Œå®ƒçš„ç›‘æ§ä»ªè¡¨æ¿         Sentinel è§’è‰²          ç›®å½•     ç‰¹æ€§           æµé‡æ§åˆ¶       ç†”æ–­å’Œé™çº§       è‡ªé€‚åº”ç³»ç»Ÿä¿æŠ¤           ä½¿ç”¨           1. ä¾èµ–       2. å®šä¹‰èµ„æº       3. å®šä¹‰æµé‡æ§åˆ¶è§„åˆ™       4. å®šä¹‰é™çº§è§„åˆ™       5. å®šä¹‰ç³»ç»Ÿä¿æŠ¤è§„åˆ™           æ³¨è§£æ”¯æŒ   ç›‘æ§ä»ªè¡¨ç›˜           1. å¯åŠ¨ä»ªè¡¨ç›˜æœåŠ¡       2. æ·»åŠ ä¾èµ–       é“¾æ¥æœåŠ¡åˆ°ä»ªè¡¨ç›˜                ç‰¹æ€§   æµé‡æ§åˆ¶   Sentinel æ§åˆ¶éšæœºè¯·æ±‚ä¼ å…¥çš„é€Ÿåº¦ï¼Œä»¥é¿å…å¾®æœåŠ¡è¿‡è½½ã€‚è¿™å¯ç¡®ä¿æˆ‘ä»¬çš„æœåŠ¡ä¸ä¼šå› æµé‡æ¿€å¢è€Œä¸­æ–­ã€‚å®ƒæ”¯æŒå¤šç§æµé‡æ•´å½¢ç­–ç•¥ã€‚å½“æ¯ç§’æŸ¥è¯¢æ•° (QPS) è¿‡é«˜æ—¶ï¼Œè¿™äº›ç­–ç•¥ä¼šè‡ªåŠ¨å°†æµé‡è°ƒæ•´ä¸ºé€‚å½“çš„ç­–ç•¥ã€‚   å…¶ä¸­ä¸€äº›æµé‡æ•´å½¢ç­–ç•¥æ˜¯ï¼š      ç›´æ¥æ‹’ç»æ¨¡å¼â€“å½“æ¯ç§’è¯·æ±‚æ•°è¶…è¿‡è®¾å®šçš„é˜ˆå€¼æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ‹’ç»è¿›ä¸€æ­¥çš„è¯·æ±‚ï¼›   æ…¢å¯åŠ¨é¢„çƒ­æ¨¡å¼â€“å¦‚æœæµé‡çªç„¶æ¿€å¢ï¼Œæ­¤æ¨¡å¼å¯ç¡®ä¿è¯·æ±‚è®¡æ•°é€æ¸å¢åŠ ï¼Œç›´åˆ°è¾¾åˆ°ä¸Šé™;   ç†”æ–­å’Œé™çº§   å½“ä¸€ä¸ªæœåŠ¡åŒæ­¥è°ƒç”¨å¦ä¸€ä¸ªæœåŠ¡æ—¶ï¼Œå¦ä¸€ä¸ªæœåŠ¡å¯èƒ½ä¼šå› æŸç§åŸå› å…³é—­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œå› ä¸ºå®ƒä»¬ä¸€ç›´åœ¨ç­‰å¾…å…¶ä»–æœåŠ¡å“åº”ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´èµ„æºè€—å°½ï¼Œå¹¶ä¸”è°ƒç”¨æ–¹æœåŠ¡ä¹Ÿå°†æ— æ³•å¤„ç†è¿›ä¸€æ­¥çš„è¯·æ±‚ã€‚è¿™ç§°ä¸ºçº§è”æ•ˆåº”ï¼Œå¯ä»¥æ‘§æ¯æˆ‘ä»¬çš„æ•´ä¸ªå¾®æœåŠ¡æ¶æ„ã€‚   ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œæ–­è·¯å™¨å‡ºç°åœ¨æ¶æ„ä¸­ã€‚å®ƒå°†ç«‹å³é˜»æ­¢å¯¹å…¶ä»–æœåŠ¡çš„æ‰€æœ‰åç»­è°ƒç”¨ã€‚è¶…æ—¶æ—¶é—´è¿‡åï¼Œä¼šä¼ é€’ä¸€äº›è¯·æ±‚ã€‚å¦‚æœå®ƒä»¬æˆåŠŸï¼Œåˆ™æ–­è·¯å™¨æ¢å¤æ­£å¸¸æµç¨‹ã€‚å¦åˆ™ï¼Œè¶…æ—¶æ—¶é—´å°†é‡æ–°å¼€å§‹ã€‚   Sentinel ä½¿ç”¨æœ€å¤§å¹¶å‘é™åˆ¶åŸç†æ¥å®ç°ç†”æ–­ã€‚å®ƒé€šè¿‡é™åˆ¶å¹¶å‘çº¿ç¨‹æ•°æ¥å‡å°‘ä¸ç¨³å®šèµ„æºçš„å½±å“ã€‚   Sentinel è¿˜ä¼šé™çº§ä¸ç¨³å®šçš„èµ„æºã€‚å½“èµ„æºçš„å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œå¯¹èµ„æºçš„æ‰€æœ‰è°ƒç”¨éƒ½ä¼šåœ¨æŒ‡å®šçš„æ—¶é—´çª—å£å†…è¢«æ‹’ç»ã€‚è¿™å¯ä»¥é˜²æ­¢è°ƒç”¨å˜å¾—éå¸¸ç¼“æ…¢ï¼Œä»è€Œå¯¼è‡´çº§è”æ•ˆåº”çš„æƒ…å†µã€‚   è‡ªé€‚åº”ç³»ç»Ÿä¿æŠ¤   Sentinel ä¼šåœ¨ç³»ç»Ÿè´Ÿè½½è¿‡é«˜æ—¶ä¿æŠ¤æˆ‘ä»¬çš„æœåŠ¡å™¨ ã€‚å®ƒä½¿ç”¨ load1ï¼ˆç³»ç»Ÿè´Ÿè½½ï¼‰ä½œä¸ºæŒ‡æ ‡æ¥å¯åŠ¨æµé‡æ§åˆ¶ã€‚è¯·æ±‚å°†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹è¢«é˜»æ­¢ï¼š      å½“å‰ç³»ç»Ÿè´Ÿè½½ï¼ˆload1ï¼‰&gt; é˜ˆå€¼ï¼ˆhighestSystemLoadï¼‰ï¼›   å½“å‰å¹¶å‘è¯·æ±‚ï¼ˆçº¿ç¨‹æ•°ï¼‰&gt; ä¼°ç®—å®¹é‡ï¼ˆæœ€å°å“åº”æ—¶é—´ * æœ€å¤§ QPSï¼‰   ä½¿ç”¨   1. ä¾èµ–   &lt;dependency&gt;     &lt;groupId&gt;com.alibaba.csp&lt;/groupId&gt;     &lt;artifactId&gt;sentinel-core&lt;/artifactId&gt;     &lt;version&gt;1.8.0&lt;/version&gt; &lt;/dependency&gt;   2. å®šä¹‰èµ„æº   ä½¿ç”¨ Sentinel API åœ¨ try-catch å—ä¸­å®šä¹‰å…·æœ‰ç›¸åº”ä¸šåŠ¡é€»è¾‘çš„èµ„æºï¼š   try (Entry entry = SphU.entry(\"HelloWorld\")) {     // Our business logic here.     System.out.println(\"hello world\"); } catch (BlockException e) {     // Handle rejected request. }    3. å®šä¹‰æµé‡æ§åˆ¶è§„åˆ™   è¿™äº›è§„åˆ™æ§åˆ¶æµå‘æˆ‘ä»¬çš„èµ„æºï¼Œä¾‹å¦‚é˜ˆå€¼è®¡æ•°æˆ–æ§åˆ¶è¡Œä¸ºâ€”â€”ä¾‹å¦‚ï¼Œç›´æ¥æ‹’ç»æˆ–ç¼“æ…¢å¯åŠ¨ã€‚æˆ‘ä»¬ä½¿ç”¨ FlowRuleManager.loadRules() æ¥é…ç½®æµè§„åˆ™ï¼š   List&lt;FlowRule&gt; flowRules = new ArrayList&lt;&gt;(); FlowRule flowRule = new FlowRule(); flowRule.setResource(RESOURCE_NAME); flowRule.setGrade(RuleConstant.FLOW_GRADE_QPS); flowRule.setCount(1); flowRules.add(flowRule); FlowRuleManager.loadRules(flowRules);      æ­¤è§„åˆ™å®šä¹‰äº†æˆ‘ä»¬çš„èµ„æºRESOURCE_NAMEæ¯ç§’æœ€å¤šå¯ä»¥å“åº”ä¸€ä¸ªè¯·æ±‚ã€‚    4. å®šä¹‰é™çº§è§„åˆ™   ä½¿ç”¨é™çº§è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®æ–­è·¯å™¨çš„é˜ˆå€¼ è¯·æ±‚è®¡æ•°ã€æ¢å¤è¶…æ—¶å’Œå…¶ä»–è®¾ç½®ã€‚ æˆ‘ä»¬ä½¿ç”¨ DegradeRuleManager.loadRules() é…ç½®é™çº§è§„åˆ™ï¼š   List&lt;DegradeRule&gt; rules = new ArrayList&lt;DegradeRule&gt;(); DegradeRule rule = new DegradeRule(); rule.setResource(RESOURCE_NAME); rule.setCount(10); rule.setTimeWindow(10); rules.add(rule); DegradeRuleManager.loadRules(rules);      æ­¤è§„åˆ™æŒ‡å®šï¼Œå½“æˆ‘ä»¬çš„èµ„æº RESOURCE_NAME æ— æ³•æ»¡è¶³ 10 ä¸ªè¯·æ±‚ï¼ˆé˜ˆå€¼è®¡æ•°ï¼‰æ—¶ï¼Œè¯·æ±‚é“¾è·¯å°†ä¸­æ–­ã€‚å¯¹èµ„æºçš„æ‰€æœ‰åç»­è¯·æ±‚éƒ½å°†è¢« Sentinel é˜»æ­¢ 10 ç§’ï¼ˆæ—¶é—´çª—å£ï¼‰ã€‚    5. å®šä¹‰ç³»ç»Ÿä¿æŠ¤è§„åˆ™   ä½¿ç”¨ç³»ç»Ÿä¿æŠ¤è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®å’Œç¡®ä¿è‡ªé€‚åº”ç³»ç»Ÿä¿æŠ¤ï¼ˆload1 é˜ˆå€¼ã€å¹³å‡å“åº”æ—¶é—´ã€å¹¶å‘çº¿ç¨‹æ•°ï¼‰ã€‚æˆ‘ä»¬ä½¿ç”¨ SystemRuleManager.loadRules() æ–¹æ³•é…ç½®ç³»ç»Ÿè§„åˆ™ï¼š   List&lt;SystemRule&gt; rules = new ArrayList&lt;&gt;(); SystemRule rule = new SystemRule(); rule.setHighestSystemLoad(10); rules.add(rule); SystemRuleManager.loadRules(rules);      æ­¤è§„åˆ™æŒ‡å®šï¼Œå¯¹äºæˆ‘ä»¬çš„ç³»ç»Ÿï¼Œæœ€é«˜ç³»ç»Ÿè´Ÿè½½ä¸ºæ¯ç§’ 10 ä¸ªè¯·æ±‚ã€‚å¦‚æœå½“å‰è´Ÿè½½è¶…è¿‡æ­¤é˜ˆå€¼ï¼Œåˆ™æ‰€æœ‰è¿›ä¸€æ­¥çš„è¯·æ±‚éƒ½å°†è¢«é˜»æ­¢ã€‚    æ³¨è§£æ”¯æŒ   Sentinel è¿˜ä¸ºå®šä¹‰èµ„æºæä¾›äº†é¢å‘æ–¹é¢çš„æ³¨é‡Šæ”¯æŒã€‚      æ·»åŠ ä¾èµ–   &lt;dependency&gt;     &lt;groupId&gt;com.alibaba.csp&lt;/groupId&gt;     &lt;artifactId&gt;sentinel-annotation-aspectj&lt;/artifactId&gt;     &lt;version&gt;1.8.0&lt;/version&gt; &lt;/dependency&gt;      å°† sentinel aspect  æ³¨å…¥ä¸ºbean;   @Configuration public class SentinelAspectConfiguration {      @Bean     public SentinelResourceAspect sentinelResourceAspect() {         return new SentinelResourceAspect();     } }      @SentinelResource è¡¨ç¤ºèµ„æºå®šä¹‰ã€‚å®ƒæœ‰ value ä¹‹ç±»çš„å±æ€§ï¼Œå®ƒå®šä¹‰äº†èµ„æºåç§°ã€‚å±æ€§fallbackæ˜¯å›é€€æ–¹æ³•åç§°ã€‚å½“æ–­è·¯å™¨æ–­å¼€æ—¶ï¼Œè¿™ç§å›é€€æ–¹æ³•å®šä¹‰äº†æˆ‘ä»¬ç¨‹åºçš„æ›¿ä»£æµç¨‹ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ @SentinelResource æ³¨é‡Šå®šä¹‰èµ„æºï¼š   @SentinelResource(value = \"resource_name\", fallback = \"doFallback\") public String doSomething(long i) {     return \"Hello \" + i; }  public String doFallback(long i, Throwable t) {     // Return fallback value.     return \"fallback\"; }      è¿™å®šä¹‰äº†åä¸º resource_name çš„èµ„æºä»¥åŠå›é€€æ–¹æ³•ã€‚    ç›‘æ§ä»ªè¡¨ç›˜   Sentinel è¿˜æä¾›äº†ä¸€ä¸ªç›‘æ§ä»ªè¡¨æ¿ã€‚æœ‰äº†è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥ç›‘æ§å®¢æˆ·ç«¯å¹¶åŠ¨æ€é…ç½®è§„åˆ™ã€‚æˆ‘ä»¬å¯ä»¥å®æ—¶æŸ¥çœ‹æˆ‘ä»¬å®šä¹‰çš„èµ„æºçš„ä¼ å…¥æµé‡ã€‚   1. å¯åŠ¨ä»ªè¡¨ç›˜æœåŠ¡   é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½ Sentinel Dashboard jar ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ä»ªè¡¨æ¿ï¼š   java -Dserver.port=8080 -Dcsp.sentinel.dashboard.server=localhost:8080 -Dproject.name=sentinel-dashboard -jar sentinel-dashboard.jar   TIPï¼š ä¸€æ—¦ä»ªè¡¨æ¿åº”ç”¨ç¨‹åºå¯åŠ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§ä¸‹ä¸€èŠ‚ä¸­çš„æ­¥éª¤è¿æ¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚   2. æ·»åŠ ä¾èµ–   &lt;dependency&gt;     &lt;groupId&gt;com.alibaba.csp&lt;/groupId&gt;     &lt;artifactId&gt;sentinel-transport-simple-http&lt;/artifactId&gt;     &lt;version&gt;1.8.0&lt;/version&gt; &lt;/dependency&gt;   é“¾æ¥æœåŠ¡åˆ°ä»ªè¡¨ç›˜   å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä»ªè¡¨æ¿IPåœ°å€ï¼š   -Dcsp.sentinel.dashboard.server=consoleIp:port      ç°åœ¨ï¼Œæ— è®ºä½•æ—¶è°ƒç”¨èµ„æºï¼Œä»ªè¡¨æ¿éƒ½ä¼šä»æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ¥æ”¶å¿ƒè·³ï¼š          sentinel dashboard   TIP: æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä»ªè¡¨æ¿åŠ¨æ€åœ°æ“çºµæµã€é™çº§å’Œç³»ç»Ÿè§„åˆ™ã€‚  ","categories": ["Spring Cloud"],
        "tags": ["Spring Cloud Config","Sentinel"],
        "url": "/jekyll-blog/spring%20cloud/Alibaba-Sentinel%E4%BB%8B%E7%BB%8D/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "ä½¿ç”¨å¾®æœåŠ¡æ¶æ„è¯­è¨€",
        "excerpt":"å¾®æœåŠ¡æ¶æ„æ¨¡å¼è¯­è¨€ç”±å¤šä¸ªæ¨¡å¼ç»„æ„æˆã€‚æ¨¡å¼è¯­è¨€çš„ä»·å€¼è¶…è¿‡äº†å…¶å„ä¸ªæ¨¡å¼çš„æ€»å’Œï¼Œå› ä¸ºå®ƒå®šä¹‰äº†æ¨¡å¼ä¹‹é—´çš„è¿™äº›å…³ç³»ï¼š      Predecessor â€“ Predecessoræ¨¡å¼æ˜¯æ¿€å‘å¯¹è¿™ç§æ¨¡å¼çš„éœ€æ±‚çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¾®æœåŠ¡æ¶æ„æ¨¡å¼æ˜¯æ¨¡å¼è¯­è¨€ä¸­é™¤å•ä½“æ¶æ„æ¨¡å¼ä¹‹å¤–çš„å…¶ä»–æ¨¡å¼çš„å‰èº«ã€‚   Successor â€“ è§£å†³æ­¤æ¨¡å¼å¼•å…¥çš„é—®é¢˜çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åº”ç”¨å¾®æœåŠ¡æ¶æ„æ¨¡å¼ï¼Œåˆ™å¿…é¡»åº”ç”¨è®¸å¤šåç»§æ¨¡å¼ï¼ŒåŒ…æ‹¬æœåŠ¡å‘ç°æ¨¡å¼å’Œæ–­è·¯å™¨æ¨¡å¼ã€‚   Alternative â€“ ä¸ºè¯¥æ¨¡å¼æä¾›äº†æ›¿ä»£è§£å†³æ–¹æ¡ˆçš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå•ä½“æ¶æ„æ¨¡å¼å’Œå¾®æœåŠ¡æ¶æ„æ¨¡å¼æ˜¯æ„å»ºåº”ç”¨ç¨‹åºçš„æ›¿ä»£æ–¹æ³•ã€‚ä½ é€‰ä¸€ä¸ªã€‚è¿™äº›å…³ç³»åœ¨ä½¿ç”¨æ¨¡å¼è¯­è¨€æ—¶æä¾›äº†å®è´µçš„æŒ‡å¯¼ã€‚åº”ç”¨æ¨¡å¼ä¼šäº§ç”Ÿé—®é¢˜ï¼Œç„¶åæ‚¨å¿…é¡»é€šè¿‡åº”ç”¨åç»§æ¨¡å¼æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚æ¨¡å¼çš„é€‰æ‹©ä¸æ–­é€’å½’ï¼Œç›´åˆ°æ‚¨è¾¾åˆ°æ²¡æœ‰åç»§çš„æ¨¡å¼ã€‚å¦‚æœæœ‰ä¸¤ç§æˆ–å¤šç§æ¨¡å¼å¯ä¾›é€‰æ‹©ï¼Œé‚£ä¹ˆæ‚¨é€šå¸¸å¿…é¡»åªé€‰æ‹©ä¸€ç§ã€‚åœ¨è®¸å¤šæ–¹é¢ï¼Œè¿™ç±»ä¼¼äºéå†å›¾ã€‚   å†³ç­–#1ï¼šå•ä½“æ¶æ„è¿˜æ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ   æ‚¨å¿…é¡»åšå‡ºçš„ç¬¬ä¸€ä¸ªå†³å®šæ˜¯ä½¿ç”¨å•ä½“æ¶æ„æ¨¡å¼è¿˜æ˜¯å¾®æœåŠ¡æ¶æ„æ¨¡å¼ã€‚å¦‚æœæ‚¨é€‰æ‹©å¾®æœåŠ¡æ¶æ„æ¨¡å¼ï¼Œæ‚¨å¿…é¡»é€‰æ‹©è®¸å¤šå…¶ä»–æ¨¡å¼æ¥å¤„ç†æ‚¨çš„å†³å®šçš„åæœã€‚         sentinel dashboard   å†³ç­–#2ï¼šå¦‚ä½•å°†åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºæœåŠ¡ï¼Ÿ   å¦‚æœæ‚¨å†³å®šä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œåˆ™å¿…é¡»å®šä¹‰æ‚¨çš„æœåŠ¡ã€‚æœ‰ä¸¤ä¸ªä¸»è¦æ–¹å‘ï¼š      æŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ†è§£â€”â€”å®šä¹‰ä¸šåŠ¡èƒ½åŠ›å¯¹åº”çš„æœåŠ¡ï¼›   æŒ‰å­åŸŸåˆ†è§£â€”â€”å®šä¹‰DDDå­åŸŸå¯¹åº”çš„æœåŠ¡ï¼›      è¿™ç§æ¨¡å¼äº§ç”Ÿç­‰æ•ˆçš„ç»“æœï¼šå›´ç»•ä¸šåŠ¡æ¦‚å¿µè€ŒéæŠ€æœ¯æ¦‚å¿µç»„ç»‡çš„ä¸€ç»„æœåŠ¡ã€‚    å†³ç­–#3ï¼šå¦‚ä½•ä¿æŒæ•°æ®ä¸€è‡´æ€§å¹¶æ‰§è¡ŒæŸ¥è¯¢ï¼Ÿ   å¾®æœåŠ¡çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯æ¯ä¸ªæœåŠ¡çš„æ•°æ®åº“æ¨¡å¼ã€‚ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œå…±äº«æ•°æ®åº“æ¨¡å¼æœ¬è´¨ä¸Šæ˜¯ä¸€ç§åæ¨¡å¼ï¼Œæœ€å¥½é¿å…ã€‚æ¯ä¸ªæœåŠ¡çš„æ•°æ®åº“æ¨¡å¼æå¤§åœ°æ”¹å˜äº†æ‚¨ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§å’Œæ‰§è¡ŒæŸ¥è¯¢çš„æ–¹å¼ã€‚æ‚¨å°†éœ€è¦ä½¿ç”¨ Saga æ¨¡å¼ã€‚æ‚¨ç»å¸¸éœ€è¦ä½¿ç”¨å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦» (CQRS) æ¨¡å¼æ¥å®ç°æŸ¥è¯¢ã€‚   ","categories": ["MicroService"],
        "tags": ["MicroService"],
        "url": "/jekyll-blog/microservice/%E5%BA%94%E7%94%A8%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "vim å¸¸ç”¨å‘½ä»¤",
        "excerpt":"ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬å°†ç»å¸¸å¤„ç†æ–‡æœ¬â€”â€”è¯è¡¨ã€é…ç½®æ–‡ä»¶ç­‰ã€‚æˆ‘ä»¬å°†åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿›è¡Œå¾ˆå¤šå·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬å–œæ¬¢çš„ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨ã€‚åœ¨è¿œç¨‹æœºå™¨ä¸Šï¼Œ ç¼–è¾‘å·¥å…·å°†å—åˆ°é™åˆ¶ã€‚å¦‚æœå®‰è£…äº† nano ï¼Œä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ç»ˆç«¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä½†å®ƒä¸æ˜¯å¾ˆå¼ºå¤§ã€‚   å¹¸è¿çš„æ˜¯ï¼Œå¤§å¤šæ•°ç³»ç»Ÿéƒ½å®‰è£…äº† Vi æˆ– Vim ã€‚ Vi ä»£è¡¨ visual ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§ã€å¿«é€Ÿçš„æ¨¡æ€æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨ â€œæ’å…¥æ¨¡å¼â€ï¼ˆæ–‡æ¡£ä¸­è¾“å…¥ï¼‰æˆ–æ­£å¸¸æ¨¡å¼ï¼ˆè¾“å…¥ä¼šè¯å‘½ä»¤ï¼‰ä¸‹å·¥ä½œã€‚ åœ¨è¿™äº›ä¼šè¯ä¹‹é—´åˆ‡æ¢å°±åƒæ•²å‡»é”®ç›˜ä¸€æ ·ç®€å•ï¼Œå› æ­¤å¯¹äºé‚£äº›ä¸å–œæ¬¢å°†æ‰‹ä»é”®ç›˜ä¸Šç§»å¼€çš„äººæ¥è¯´ï¼Œè¿™éå¸¸æœ‰ç”¨ã€‚   Vim ä»£è¡¨ Vi IMproved ï¼Œå®ƒå…·æœ‰ Vi çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶æ·»åŠ äº†ä¸€äº›æœ‰åŠ©äºç¼–è¾‘æºä»£ç çš„å‡ºè‰²åŠŸèƒ½ã€‚è¿˜æœ‰ä¸€ä¸ªå…¨é¢çš„å¸®åŠ©ç³»ç»Ÿå’Œè®¸å¤šå¯ç”¨çš„è‡ªå®šä¹‰é€‰é¡¹ã€‚è®¸å¤šç³»ç»Ÿå°† Vi ç¬¦å·é“¾æ¥åˆ° Vimï¼Œ åŒ…æ‹¬ macOS ã€‚å°±æˆ‘ä¸ªäººè€Œè¨€ï¼ŒVim é€‚ç”¨äºæˆ‘åœ¨è¿œç¨‹ä¸»æœºä¸Šçš„æ‰€æœ‰ç¼–è¾‘ã€‚   å¸¸ç”¨å‘½ä»¤   åŸºæ“      y: yankï¼ˆå¤åˆ¶ï¼‰çš„ç¼©å†™;   p: paste(ç²˜è´´)çš„ç¼©å†™;   d: delete(ç²˜è´´)çš„ç¼©å†™;   v: view ç¼©å†™ï¼Œæ ‡è¯†è¿›å…¥è§†å›¾æ¨¡å¼ï¼Œä» å…‰æ ‡å½“å‰çš„ä½ç½® å¼€å§‹å…‰æ ‡ç»è¿‡çš„æ–‡æ¡£å°†è¢«é€‰ä¸­;   V: åŒ v å‘½ä»¤, ä¸åŒçš„æ˜¯èµ·ç‚¹æ˜¯ä» å…‰æ ‡ä½ç½®çš„å½“å‰è¡Œå¼€å§‹;   Ctrl + v: åŒ vå‘½ä»¤ï¼Œ ä»å…‰æ ‡å½“å‰ä½ç½®å¼€å§‹å’Œç»ˆç‚¹å…‰æ ‡ä½ç½®ç»„æˆçŸ©å½¢åŒºåŸŸå—ï¼Œä½œä¸ºé€‰ä¸­åŒºåŸŸ;   å¸¸ç”¨ç»„åˆå‘½ä»¤      ggyG: å…¨é€‰å¤åˆ¶. gg-å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æ¡£æœ€å‰é¢, y-å¤åˆ¶ï¼Œ G å…‰æ ‡ç§»åŠ¨åˆ°æœ«å°¾;   ggdG: å…¨é€‰å¤åˆ¶. gg-å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æ¡£æœ€å‰é¢, y-åˆ é™¤ï¼Œ G å…‰æ ‡ç§»åŠ¨åˆ°æœ«å°¾;   æŠ€å·§: å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œå‘½ä»¤æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„ï¼Œå¤šä¸ª vi æˆ–è€… vim å‘½ä»¤ç»„åˆæˆä¸€ä¸ªæ“ä½œã€‚æ¯”å¦‚ ggyG ç»„åˆå‘½ä»¤çš„ä¸€ä¸ªæ“ä½œå°±æ˜¯ å…‰æ ‡ç§»åŠ¨åˆ°å¤´ï¼Œç„¶åå¤åˆ¶ï¼Œæœ€åå…‰æ ‡ç§»åŠ¨åˆ°æœ«å°¾,å®Œæˆ â€œå…¨é€‰å¤åˆ¶â€ æ“ä½œ.  ","categories": ["Linux"],
        "tags": ["vim"],
        "url": "/jekyll-blog/linux/vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "OSGI",
        "excerpt":"OSGiï¼ˆå¼€æ”¾æœåŠ¡ç½‘å…³è®¡åˆ’ï¼‰æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘å’Œéƒ¨ç½²æ¨¡å—åŒ–è½¯ä»¶ç¨‹åºå’Œåº“çš„Javaæ¡†æ¶ã€‚  OSGi æœ‰ä¸¤ä¸ªéƒ¨åˆ†ã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç§°ä¸º bundles çš„æ¨¡å—åŒ–ç»„ä»¶çš„è§„èŒƒï¼Œå®ƒä»¬é€šå¸¸è¢«ç§°ä¸ºæ’ä»¶ã€‚è¯¥è§„èŒƒä¸º bundle çš„ç”Ÿå‘½å‘¨æœŸå®šä¹‰äº†åŸºç¡€è®¾æ–½ï¼Œå¹¶ç¡®å®šäº† bundle å°†å¦‚ä½•äº¤äº’ã€‚OSGi çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯ Java è™šæ‹Ÿæœº ( JVM ) çº§åˆ«çš„æœåŠ¡æ³¨å†Œè¡¨ï¼Œæ†ç»‘åŒ…å¯ç”¨äºå‘å¸ƒã€å‘ç°å’Œç»‘å®šåˆ°é¢å‘æœåŠ¡æ¶æ„ ( SOA )ä¸­çš„æœåŠ¡.   OSGi èƒŒåçš„å·¥ä½œå§‹äº 1999 å¹´ï¼Œå½“æ—¶åµŒå…¥å¼ç³»ç»Ÿä¾›åº”å•†å’Œç½‘ç»œä¾›åº”å•†é½å¿ƒååŠ›ï¼Œä¸ºå¯è¿œç¨‹ç®¡ç†çš„åŸºäº Java çš„æœåŠ¡æ¡†æ¶åˆ›å»ºäº†ä¸€å¥—æ ‡å‡†ã€‚OSGi æœ€åˆçš„æ„æƒ³æ˜¯ä½œä¸ºä¸€ç§ç½‘å…³ï¼Œç”¨äºç®¡ç†å®¶åº­ä¸­çš„æ™ºèƒ½ç”µå™¨å’Œå…¶ä»–æ”¯æŒ Internet çš„è®¾å¤‡ã€‚ç½‘å…³ç”±åµŒå…¥åœ¨ç¡¬ä»¶å¹³å°ï¼ˆå¦‚ç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨æˆ–æœºé¡¶ç›’ï¼‰ä¸­çš„ Java è½¯ä»¶æ¡†æ¶ç»„æˆã€‚è¯¥æ¡†æ¶å……å½“å®¶åº­å±€åŸŸç½‘ ( LAN )ä¸Šè®¾å¤‡çš„ä¸­å¤®æ¶ˆæ¯ä»£ç†ã€‚æœ¬è´¨ä¸Šï¼Œç›®æ ‡æ˜¯ä¸ºæ™ºèƒ½è®¾å¤‡åˆ›å»ºæ ‡å‡†åŒ–çš„ä¸­é—´ä»¶ï¼Œå¹¶ä½¿è½¯ä»¶å¼€å‘äººå‘˜æ›´å®¹æ˜“ç®¡ç†äº¤å‰ä¾èµ–é¡¹ã€‚          ç›®å½•     osgi ä¼˜ç§€å¼€æºé¡¹ç›®   todoâ€¦        osgi ä¼˜ç§€å¼€æºé¡¹ç›®      Open Daylight;   Apache Karaftï¼›   felix;   Open HAB;   todoâ€¦   ","categories": ["JAVA"],
        "tags": ["java","osgi"],
        "url": "/jekyll-blog/java/OSGI/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "C4 Model ä»‹ç»",
        "excerpt":" ","categories": ["UML"],
        "tags": ["UML","C4"],
        "url": "/jekyll-blog/uml/C4-Model/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      },{
        "title": "plantUML for C4 modelæ±‰åŒ–(todo)",
        "excerpt":"C4-PlantUML ç»“åˆäº† PlantUML å’Œ C4 æ¨¡å‹çš„ä¼˜ç‚¹ï¼Œé€šè¿‡ä½¿ç”¨å¼€æºå’Œå¹³å°ç‹¬ç«‹å·¥å…·çš„ç›´è§‚è¯­è¨€ï¼Œæä¾›äº†ä¸€ç§æè¿°å’Œäº¤æµè½¯ä»¶æ¶æ„çš„ç®€å•æ–¹æ³•â€”â€”å°¤å…¶æ˜¯åœ¨å‰æœŸè®¾è®¡ä¼šè®®æœŸé—´ã€‚  C4-PlantUML åŒ…æ‹¬ç”¨äºä½¿ç”¨ PlantUML åˆ›å»º C4 å›¾çš„å®ã€æ„é€ å‹å’Œå…¶ä»–å¥½ä¸œè¥¿ï¼ˆå¦‚ VSCode ç‰‡æ®µï¼‰ã€‚          ç›®å½•     å…¥é—¨   æ”¯æŒçš„å›¾è¡¨ç±»å‹           Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Deployment.puml**           å…³ç³»ç±»å‹   å¸ƒå±€é€‰é¡¹   Custom tags/stereotypes æ”¯æŒå’Œçš®è‚¤å‚æ•°æ›´æ–°   Element properties   Version information   Snippets for Visual Studio Code   Live Templates for IntelliJ           Prerequisites       Install       Usage           Layout Options   Advanced Samples           techtribes.js       Message Bus and Microservices           Background   License           åŸæ–‡åœ°å€: plantuml-stdlib/C4-PlantUML       å…¥é—¨   åœ¨ä½ çš„ C4 PlantUML .puml æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œä½ éœ€è¦åœ¨è¿™ä¸ª repo çš„ rootç›®å½•ä¸­æ‰¾åˆ°çš„ C4_Context.pumlã€C4_Container.puml æˆ– C4_Component.puml æ–‡ä»¶ã€‚ è¦ç‹¬ç«‹äºä»»ä½• Internet è¿æ¥ï¼Œæ‚¨è¿˜å¯ä»¥å°†å®ƒä¸‹è½½ä¸‹æ¥,åœ¨ rootç›®å½•ä¸­æ‰¾åˆ°çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨é™„åŠ å‘½ä»¤è¡Œå‚æ•° -DRELATIVE_INCLUDE=\".\"ï¼ˆåŒ…æ‹¬æœ¬åœ°æ–‡ä»¶ï¼‰æ¿€æ´»æœ¬åœ°è½¬æ¢   java -jar plantuml.jar -DRELATIVE_INCLUDE=\".\"  ...   å¦‚æœè¦åœ¨æ­¤ repo ä¸­ä½¿ç”¨å§‹ç»ˆæœ€æ–°çš„ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š   !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml   ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª C4 å®¹å™¨å›¾ï¼š   (å¦‚æœæ‚¨ä¸æƒ³åœ¨æœ¬åœ°è¿è¡Œ PlantUMLï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ e.g. the PlantUML Web Server.)   åŒ…å« C4_Container.puml åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ C4 å…ƒç´ å®šä¹‰çš„å®å®šä¹‰ï¼šâ€œPersonâ€ã€â€œPerson_Extâ€ã€â€œSystemâ€ã€â€œSystem_Extâ€ã€â€œContainerâ€ã€â€œRelationshipâ€ã€â€œBoundaryâ€å’Œç³»ç»Ÿ_è¾¹ç•Œ   @startuml C4_Elements !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  Person(personAlias, \"Label\", \"Optional Description\") Container(containerAlias, \"Label\", \"Technology\", \"Optional Description\") System(systemAlias, \"Label\", \"Optional Description\")  Rel(personAlias, containerAlias, \"Label\", \"Optional Technology\") @enduml      é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰ç³»ç»Ÿæˆ–ç»„ä»¶è¾¹ç•Œã€‚   æŸ¥çœ‹ä»¥ä¸‹ C4 å®¹å™¨å›¾ç¤ºä¾‹ï¼š   @startuml Basic Sample !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  Person(admin, \"Administrator\") System_Boundary(c1, \"Sample System\") {     Container(web_app, \"Web Application\", \"C#, ASP.NET Core 2.1 MVC\", \"Allows users to compare multiple Twitter timelines\") } System(twitter, \"Twitter\")  Rel(admin, web_app, \"Uses\", \"HTTPS\") Rel(web_app, twitter, \"Gets tweets from\", \"HTTPS\") @enduml      Entities ä¹Ÿå¯ä»¥ä½¿ç”¨ å›¾æ ‡/sprites è£…é¥°  ä½¿ç”¨ $sprite å‚æ•°, for example:   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  !define DEVICONS https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/devicons !define FONTAWESOME https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/font-awesome-5 !include DEVICONS/angular.puml !include DEVICONS/java.puml !include DEVICONS/msql_server.puml !include FONTAWESOME/users.puml  LAYOUT_WITH_LEGEND()  Person(user, \"Customer\", \"People that need products\", $sprite=\"users\") Container(spa, \"SPA\", \"angular\", \"The main interface that the customer interacts with\", $sprite=\"angular\") Container(api, \"API\", \"java\", \"Handles all business logic\", $sprite=\"java\") ContainerDb(db, \"Database\", \"Microsoft SQL\", \"Holds product, order and invoice information\", $sprite=\"msql_server\")  Rel(user, spa, \"Uses\", \"https\") Rel(spa, api, \"Uses\", \"https\") Rel_R(api, db, \"Reads/Writes\") @enduml      å’Œ icons/sprites è®¾ç½®ç›¸ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ‰€æœ‰å…ƒç´ å’Œå…³ç³»æ·»åŠ é“¾æ¥:   @startuml Basic Sample !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  Person(admin, \"Administrator\", $sprite=\"person2\", $link=\"https://github.com/plantuml-stdlib/C4-PlantUML/blob/master/LayoutOptions.md#hide_person_sprite-or-show_person_spritesprite\") System_Boundary(c1, \"Sample System\", $link=\"https://github.com/plantuml-stdlib/C4-PlantUML\") {     Container(web_app, \"Web Application\", \"C#, ASP.NET Core 2.1 MVC\", $descr=\"Allows users to compare multiple Twitter timelines\", $link=\"https://github.com/plantuml-stdlib/C4-PlantUML/blob/master/LayoutOptions.md\") } System(twitter, \"Twitter\", $link=\"https://github.com/plantuml-stdlib/C4-PlantUML\")  Rel(admin, web_app, \"Uses\", \"HTTPS\", $link=\"https://plantuml.com/link\") Rel(web_app, twitter, \"Gets tweets from\", \"HTTPS\", $link=\"https://plantuml.com/link\") @enduml      png æœ¬èº«ä¸æ”¯æŒé“¾æ¥ï¼Œå› æ­¤ä¸‹å›¾ç”Ÿæˆä¸º svg å›¾åƒã€‚ Github ä¸æ”¯æŒ README.md ä¸­çš„ svg é“¾æ¥ã€‚ å¦‚æœæ‚¨å•å‡»å›¾åƒï¼Œåˆ™ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œæ‚¨å¯ä»¥åœ¨é‚£é‡Œä½¿ç”¨é“¾æ¥ã€‚       å…ƒç´ å’Œå…³ç³»å¯ä»¥ç”¨æ ‡ç­¾è£…é¥°ï¼Œå¹¶é€šè¿‡è®¡ç®—å‡ºçš„å›¾ä¾‹è¿›è¡Œè§£é‡Šï¼Œä¾‹å¦‚ï¼š   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  AddElementTag(\"v1.0\", $borderColor=\"#d73027\") AddElementTag(\"v1.1\", $fontColor=\"#d73027\") AddElementTag(\"backup\", $fontColor=\"orange\")  AddRelTag(\"backup\", $textColor=\"orange\", $lineColor=\"orange\", $lineStyle = DashedLine())  Person(user, \"Customer\", \"People that need products\") Person(admin, \"Administrator\", \"People that administrates the products via the new v1.1 components\", $tags=\"v1.1\") Container(spa, \"SPA\", \"angular\", \"The main interface that the customer interacts with via v1.0\", $tags=\"v1.0\") Container(spaAdmin, \"Admin SPA\", \"angular\", \"The administrator interface that the customer interacts with via new v1.1\", $tags=\"v1.1\") Container(api, \"API\", \"java\", \"Handles all business logic (incl. new v1.1 extensions)\", $tags=\"v1.0+v1.1\") ContainerDb(db, \"Database\", \"Microsoft SQL\", \"Holds product, order and invoice information\") Container(archive, \"Archive\", \"Audit logging\", \"Stores 5 years\", $tags=\"backup\")  Rel(user, spa, \"Uses\", \"https\") Rel(spa, api, \"Uses\", \"https\") Rel_R(api, db, \"Reads/Writes\") Rel(admin, spaAdmin, \"Uses\", \"https\") Rel(spaAdmin, api, \"Uses\", \"https\") Rel_L(api, archive, \"Writes\", \"messages\", $tags=\"backup\")  SHOW_LEGEND() @enduml      æ”¯æŒçš„å›¾è¡¨ç±»å‹           arg.. å‚æ•°ä¸ºå¿…éœ€çš„ (e.g. alias)     ?arg.. å‚æ•°ä¸ºå¯é€‰çš„  (e.g. ?descr)     *techn .. æŠ€æœ¯å‚æ•°æ˜¯å¿…éœ€çš„, ä½†æ˜¯å¦‚æœæŠ€æœ¯å‚æ•°é€šè¿‡ $tag æ¥å®šä¹‰ï¼Œé‚£ä¹ˆä¸éœ€è¦technå‚æ•°         ç³»ç»Ÿ Context &amp; ç³»ç»Ÿæ™¯è§‚å›¾            Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Context.puml**       å®:                    Person(alias, label, ?descr, ?sprite, ?tags, $link)           Person_Ext           System(alias, label, ?descr, ?sprite, ?tags, $link)           SystemDb           SystemQueue           System_Ext           SystemDb_Ext           SystemQueue_Ext           Boundary(alias, label, ?type, ?tags, $link)           Enterprise_Boundary(alias, label, ?tags, $link)           System_Boundary                           Containerå›¾            Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Container.puml**       Additional Macros:                    Container(alias, label, *techn, ?descr, ?sprite, ?tags, $link)           ContainerDb           ContainerQueue           Container_Ext           ContainerDb_Ext           ContainerQueue_Ext           Container_Boundary(alias, label, ?tags, $link)                           Componentå›¾            Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Component.puml**       é™„åŠ å®:                    Component(alias, label, *techn, ?descr, ?sprite, ?tags, $link)           ComponentDb           ComponentQueue           Component_Ext           ComponentDb_Ext           ComponentQueue_Ext                           åŠ¨æ€å›¾            Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Dynamic.puml**       é™„åŠ å®:                    RelIndex(index, from, to, label, ?tags, $link)           (lowercase) increment($offset=1): å¢åŠ å½“å‰ç´¢å¼•ï¼ˆæ²¡æœ‰ç›´æ¥è¾“å‡ºçš„ç¨‹åºï¼‰           (lowercase) setIndex($new_index): è®¾ç½®æ–°ç´¢å¼•ï¼ˆæ²¡æœ‰ç›´æ¥è¾“å‡ºçš„è¿‡ç¨‹ï¼‰           LastIndex(): è¿”å›æœ€åä½¿ç”¨çš„ç´¢å¼•ï¼ˆå¯ä»¥ç”¨ä½œå‚æ•°çš„å‡½æ•°ï¼‰                   ä»¥ä¸‹ 2 ä¸ªå®éœ€è¦ V1.2020.24Beta4ï¼ˆå·²ç»å¯ä»¥ä½¿ç”¨ https:www.plantuml.complantuml è¿›è¡Œæµ‹è¯•ï¼‰                     Index($offset=1): è¿”å›å½“å‰ç´¢å¼•å¹¶è®¡ç®—ä¸‹ä¸€ä¸ªç´¢å¼•ï¼ˆå¯ç”¨ä½œå‚æ•°çš„å‡½æ•°ï¼‰           SetIndex($new_index): è¿”å›æ–°çš„é›†åˆç´¢å¼•å¹¶è®¡ç®—ä¸‹ä¸€ä¸ªç´¢å¼•ï¼ˆå¯ç”¨ä½œå‚æ•°çš„å‡½æ•°ï¼‰                           éƒ¨ç½²å›¾                     Import: !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/**C4_Deployment.puml**               é™„åŠ å®:                    Deployment_Node(alias, label, ?type, ?descr, ?sprite, ?tags, $link)           Node(alias, label, ?type, ?descr, ?sprite, ?tags, $link): Deployment_Node() çš„ç®€ç§°           Node_L(alias, label, ?type, ?descr, ?sprite, ?tags, $link): Node()-å·¦å¯¹é½           Node_R(alias, label, ?type, ?descr, ?sprite, ?tags, $link): Node()-å³å¯¹é½                           æŸ¥çœ‹æ¯ä¸ª C4 æ¨¡å‹å›¾ç¤ºä¾‹ã€‚   å…³ç³»ç±»å‹      Rel(from, to, label, ?techn, ?descr, ?sprite, ?tags, $link)   BiRel (åŒå‘å…³ç³»)   æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¼ºåˆ¶å…³ç³»çš„æ–¹å‘ï¼š      Rel_U, Rel_Up   Rel_D, Rel_Down   Rel_L, Rel_Left   Rel_R, Rel_Right   å…³ç³»å¯¹åº”çš„ sprites é€šå¸¸è¾ƒå°ï¼Œå› æ­¤ä»¥ä¸‹è®¾ç½®å¯é€‰:     ä½¿ç”¨è¾ƒå°çš„å›¾æ ‡ï¼ˆå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ä¸‰è§’å½¢ï¼‰   ä½¿ç”¨é¢å¤–çš„æ¯”ä¾‹å› å­ï¼ˆç›´æ¥ä½œä¸ºå‚æ•°çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–é€šè¿‡å˜é‡ï¼‰   å¦‚æœ sprite å‚æ•°ä»¥ &amp; å¼€å¤´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ OpenIconic åç§°ï¼ˆè¯¦æƒ…å‚è§ https:useiconic.comopenï¼‰   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml  Person(user, \"User\") Person(user1, \"User 1\") Person(user2, \"User 2\") Person(user3, \"User 3\")  System(system, \"System\")  ' normal sprites are too big  Rel_L(user, user2, \"informs\", \"courier\", \"normal sprites are too big\", $sprite=\"person2\")  ' scaled sprites are ok Rel_R(user, user3, \"informs\", \"courier\", \"scaled sprites are OK\", $sprite=\"person2,scale=0.5\")  ' combine sprite and scale to a new sprite !$combinedSprite=\"person2,scale=0.5\" Rel_R(user, user3, \"informs\", \"courier\", \"combined sprites are OK\", $sprite=$combinedSprite)   ' special smaller sprites can be used sprite $triangle {     00000000000     00000F00000     0000FBF0000     0000FBF0000     000F999F000     000F999F000     00F66666F00     00F66666F00     0F3333333F0     0F3333333F0     0FFFFFFFFF0     00000000000 } Rel_R(user1, system, \"orders\", \"http\", \"small sprites, like the small triangle\", $sprite=\"triangle\")  ' if sprite starts with &amp;, sprite defines a OpenIconic, details see https://useiconic.com/open/ Rel_D(user, user1, \"requests\", \"async message\", \"if sprite starts with &amp;, it defines a OpenIconic like &amp;envelope-closed\", $sprite = \"&amp;envelope-closed\") @enduml      åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¼ºåˆ¶æ²¡æœ‰å…³ç³»çš„å¯¹è±¡çš„å¸ƒå±€ï¼š     Lay_U(from, to)   Lay_D(from, to)   Lay_L(from, to)   Lay_R(from, to)   åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œä¸€ä¸ªäººä½¿ç”¨ä¸åŒçš„ç³»ç»Ÿï¼Œä»¥åŠæ²¡æœ‰å…³ç³»çš„ä¸€ç»„äºº   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml HIDE_STEREOTYPE()  Person(a, \"A\") Person(b, \"B\") Person(c, \"C\") Person(d, \"D\") Person(e, \"E\")  Lay_U(a, b) Lay_R(a, c) Lay_D(a, d) Lay_L(a, e)  Person(x, \"X\") System(s1, \"S1\") System(s2, \"S2\") System(s3, \"S3\") System(s4, \"S4\")  Rel_U(x, s1, \"uses\") Rel_R(x, s2, \"uses\") Rel_D(x, s3, \"uses\") Rel_L(x, s4, \"uses\") @enduml      ï¼ˆç»“åˆ SHOW_FLOATING_LEGEND()ï¼‰å…ƒç´ å’Œä¾‹å¦‚å¯èƒ½éœ€è¦æ‰€æœ‰çš„æµ®åŠ¨å›¾ä¾‹ï¼Œä¾‹å¦‚å¯ä»¥åˆ°è¾¾ç»˜å›¾åŒºåŸŸçš„è§’è½ã€‚      Lay_Distance(from, to, ?distance): ä½¿ç”¨å‘ä¸‹å¯¹é½è®¾ç½® from å’Œ to ä¹‹é—´çš„è·ç¦»ï¼ˆLay_Distance(from,to,0) ç­‰äº Lay_D(from, to)ï¼‰ã€‚æµ®åŠ¨å›¾ä¾‹çš„é»˜è®¤åˆ«åæ˜¯ LEGEND()ã€‚   åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæµ®åŠ¨å›¾ä¾‹åº”ä½äºå›¾å½¢çš„å·¦ä¸‹è§’ã€‚ ï¼ˆæ­£å¸¸çš„ SHOW_LEGEND() è°ƒç”¨ä¸éœ€è¦é¢å¤–çš„ Lay_Distance() è°ƒç”¨ï¼Œå›¾ä¾‹ä¼šè‡ªåŠ¨ç»˜åˆ¶åœ¨å³ä¾§å›¾è¡¨ä¸‹æ–¹ï¼‰   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  !define DEVICONS https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/devicons !define FONTAWESOME https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/font-awesome-5 !include DEVICONS/angular.puml !include DEVICONS/java.puml !include DEVICONS/msql_server.puml !include FONTAWESOME/users.puml  Person(user, \"Customer\", \"People that need products\", $sprite=\"users\") Container(spa, \"SPA\", \"angular\", \"The main interface that the customer interacts with\", $sprite=\"angular\") Container(api, \"API\", \"java\", \"Handles all business logic\", $sprite=\"java\") ContainerDb(db, \"Database\", \"Microsoft SQL\", \"Holds product, order and invoice information\", $sprite=\"msql_server\")  Rel(user, spa, \"Uses\") Rel(spa, api, \"Uses\") Rel_R(api, db, \"Reads/Writes\")  SHOW_FLOATING_LEGEND() Lay_Distance(LEGEND(), db, 1) @enduml      å¸ƒå±€é€‰é¡¹   C4-PlantUML è¿˜å¸¦æœ‰ä¸€äº›å¸ƒå±€é€‰é¡¹ï¼Œä½¿åˆ›å»ºæ¼‚äº®æœ‰ç”¨çš„å›¾è¡¨å˜å¾—å®¹æ˜“å’Œå¯é‡ç”¨ï¼š      LAYOUT_TOP_DOWN() or LAYOUT_LEFT_RIGHT() or LAYOUT_LANDSCAPE()   LAYOUT_WITH_LEGEND() or SHOW_LEGEND(?hideStereotype)   SHOW_FLOATING_LEGEND(?alias, ?hideStereotype) and LEGEND()   LAYOUT_AS_SKETCH()   HIDE_STEREOTYPE()   C4-PlantUML è¿˜å¸¦æœ‰ä¸€äº› person sprite/portrait é€‰é¡¹:      HIDE_PERSON_SPRITE()   SHOW_PERSON_SPRITE(?sprite)   SHOW_PERSON_PORTRAIT()   SHOW_PERSON_OUTLINE() (requires PlantUML version &gt;= 1.2021.4)   Custom tags/stereotypes æ”¯æŒå’Œçš®è‚¤å‚æ•°æ›´æ–°   å¯ä»¥å°†é™„åŠ æ ‡ç­¾æ„é€ å‹æ·»åŠ åˆ°ç°æœ‰å…ƒç´ æ„é€ å‹ï¼ˆç»„ä»¶ã€â€¦ï¼‰å’Œçªå‡ºæ˜¾ç¤ºã€â€¦ç‰¹å®šæ–¹é¢ï¼š      AddElementTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite): Introduces a new element tag. The styles of the tagged elements are updated and the tag is displayed in the calculated legend.   AddRelTag(tagStereo, ?textColor, ?lineColor, ?lineStyle, ?sprite, ?techn, ?legendText, ?legendSprite): Introduces a new relation tag. The styles of the tagged relations are updated and the tag is displayed in the calculated legend.   UpdateElementStyle(elementName, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite): This call updates the default style of the elements (component, â€¦) and creates no additional legend entry.   UpdateRelStyle(textColor, lineColor): This call updates the default relationship colors and creates no additional legend entry.   RoundedBoxShape(): This call returns the name of the rounded box shape and can be used as ?shape argument.   EightSidedShape(): This call returns the name of the eight sided shape and can be used as ?shape argument.   DashedLine(): This call returns the name of the dashed line and can be used as ?lineStyle argument.   DottedLine(): This call returns the name of the dotted line and can be used as ?lineStyle argument.   BoldLine(): This call returns the name of the bold line and can be used as ?lineStyle argument.   Each element can be extended with one or multiple custom tags via the keyword argument $tags=\"...\", like Container(spaAdmin, \"Admin SPA\", $tags=\"v1.1\"). Multiple tags can be combined with +, like Container(api, \"API\", $tags=\"v1.0+v1.1\").   Element specific tag definitions   Sometimes an added element tag is element specific and all element specific colors should be used, e.g. a specific user role should be defined as element tag with the specific colors ...PERSON_... like  AddElementTag(\"admin\", $fontColor=$ELEMENT_FONT_COLOR, $bgColor=$PERSON_BG_COLOR, $borderColor=$PERSON_BORDER_COLOR, $sprite=\"osa_user_audit\", $legendText=\"administration user\")  Therefore element Addâ€¦Tag() shortcuts are added which use the specific colors as default values and the call can be simplified like  AddPersonTag(\"admin\", $sprite=\"osa_user_audit\", $legendText=\"administration user\")   Following calls introduces new element tags with element specific default colors:     AddPersonTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?legendText, ?legendSprite)   AddExternalPersonTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?legendText, ?legendSprite)   AddSystemTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?legendText, ?legendSprite)   AddExternalSystemTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?legendText, ?legendSprite)   AddComponentTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite)   AddExternalComponentTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite)   AddContainerTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite)   AddExternalContainerTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?techn, ?sprite, ?legendText, ?legendSprite)   AddNodeTag(tagStereo, ?bgColor, ?fontColor, ?borderColor, ?shadowing, ?shape, ?sprite, ?techn, ?legendText, ?legendSprite) (node specific: $type reuses $techn definition of $tags)   Comments      SHOW_LEGEND() supports the customized stereotypes     (LAYOUT_WITH_LEGEND() cannot be used, if the custom tags/stereotypes should be displayed in the legend).   SHOW_LEGEND() has to be last line in diagram.   Donâ€™t use space between $tags and = (PlantUML does not support it).   Donâ€™t use , as part of the tag names (PlantUML does not support it in combination with keyword arguments).   If 2 tags defines the same skinparam, the first definition is used.        If specific skinparams have to be merged (e.g. 2 tags change the font color) an additional combined tag has to be defined. Use &amp; as part of combined tag names.       Colors of relationship tags cannot be automatically merged (PlantUML does not support it). If one tag modifies the line color and the other the text color, an additional combined tag has to be defined and used.   Sample with different tag combinations   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  UpdateElementStyle(person, $fontColor=\"green\") AddElementTag(\"v1.0\", $fontColor=\"#d73027\", $borderColor=\"#d73027\") AddElementTag(\"v1.1\", $fontColor=\"#ffffbf\", $borderColor=\"#ffffbf\") AddElementTag(\"v1.0&amp;v1.1\", $fontColor=\"#fdae61\", $borderColor=\"#fdae61\") AddElementTag(\"fallback\", $bgColor=\"#444444\")  AddElementTag(\"micro service\", $shape=EightSidedShape()) AddElementTag(\"storage\", $shape=RoundedBoxShape())  UpdateRelStyle(black, black) AddRelTag(\"service1\", $textColor=\"red\") AddRelTag(\"service2\", $lineColor=\"red\") AddRelTag(\"service1&amp;service2\", $textColor=\"red\", $lineColor=\"red\")  Container(spa, \"SPA\", \"angular\", \"The main interface that the customer interacts with via v1.0\", $tags=\"v1.0\") Container(spaAdmin, \"Admin SPA\", \"angular\", \"The administrator interface that the customer interacts with via new v1.1\", $tags=\"v1.1\") Container(api, \"API\", \"java\", \"Handles all business logic (incl. new v1.1 extensions)\", $tags=\"v1.0&amp;v1.1+v1.0+v1.1\") Container(spa2, \"SPA2\", \"angular\", \"The main interface that the customer interacts with via v1.0\", $tags=\"v1.0+fallback\") Container(spaAdmin2, \"Admin SPA2\", \"angular\", \"The administrator interface that the customer interacts with via new v1.1\", $tags=\"fallback+v1.1\")  Container(services, \"Services\", \"techn\", $tags=\"micro service\") Container(fileStorage, \"File storage\", \"techn\", $tags=\"storage\")  Rel(spa, api, \"Uses\", \"https\") Rel(spaAdmin, api, \"Uses\", \"https\") Rel_L(spa, spa2, \"Updates\", \"https\") Rel_R(spaAdmin, spaAdmin2, \"Updates\", \"https\")  Rel_D(api, services, \"uses service1 via this call\", $tags=\"service1\") Rel_D(api, services, \"uses service2 via this call\", $tags=\"service2\") Rel_D(services, fileStorage, \"both services stores via this call\", $tags=\"service1&amp;service2+service1+service2\")  SHOW_LEGEND(false) @enduml      Sample with tag dependent sprites and custom legend text   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  !define osaPuml https://raw.githubusercontent.com/Crashedmind/PlantUML-opensecurityarchitecture2-icons/master !include osaPuml/Common.puml !include osaPuml/User/all.puml  !include &lt;office/Servers/database_server&gt; !include &lt;office/Servers/file_server&gt; !include &lt;office/Servers/application_server&gt; !include &lt;office/Concepts/service_application&gt; !include &lt;office/Concepts/firewall&gt;  AddExternalPersonTag(\"anonymous_ext\", $sprite=\"osa_user_black_hat\", $legendText=\"anonymous user\") AddPersonTag(\"customer\", $sprite=\"osa_user_large_group\", $legendText=\"aggregated user\") AddPersonTag(\"admin\", $sprite=\"osa_user_audit,color=red\", $legendSprite=\"osa_user_audit,scale=0.25,color=red\", $legendText=\"administration user\")  AddContainerTag(\"webApp\", $sprite=\"application_server\", $legendText=\"web app container\") AddContainerTag(\"db\", $sprite=\"database_server\", $legendText=\"database container\") AddContainerTag(\"files\", $sprite=\"file_server\", $legendText=\"file server container\") AddContainerTag(\"conApp\", $sprite=\"service_application\", $legendText=\"console app container\")  AddRelTag(\"firewall\", $textColor=\"$ARROW_COLOR\", $lineColor=\"$ARROW_COLOR\", $sprite=\"firewall,scale=0.3,color=red\", $legendText=\"firewall\")  Person_Ext(anonymous_user, \"Bob\", $tags=\"anonymous_ext\") Person(aggregated_user, \"Sam, Ivone\", $tags=\"customer\") Person(administration_user, \"Bernd\", $tags=\"admin\")  System_Boundary(c1, \"techtribes.js\"){     Container(web_app, \"Web Application\", \"Java, Spring MVC, Tomcat 7.x\", $tags=\"webApp\")     ContainerDb(rel_db, \"Relational Database\", \"MySQL 5.5.x\", $tags=\"db\")     Container(filesystem, \"File System\", \"FAT32\", $tags=\"files\")     ContainerDb(nosql, \"NoSQL Data Store\", \"MongoDB 2.2.x\", $tags=\"db\")     Container(updater, \"Updater\", \"Java 7 Console App\", $tags=\"conApp\") }  Rel(anonymous_user, web_app, \"Uses\", \"HTTPS\", $tags=\"firewall\") Rel(aggregated_user, web_app, \"Uses\", \"HTTPS\", $tags=\"firewall\") Rel(administration_user, web_app, \"Uses\", \"HTTPS\", $tags=\"firewall\")  Rel(web_app, rel_db, \"Reads from and writes to\", \"SQL/JDBC, port 3306\") Rel(web_app, filesystem, \"Reads from\") Rel(web_app, nosql, \"Reads from\", \"MongoDB wire protocol, port 27017\")  Rel_U(updater, rel_db, \"Reads from and writes data to\", \"SQL/JDBC, port 3306\") Rel_U(updater, filesystem, \"Writes to\") Rel_U(updater, nosql, \"Reads from and writes to\", \"MongoDB wire protocol, port 27017\")  Lay_R(rel_db, filesystem)  SHOW_LEGEND() @enduml      Custom schema definition   If the custom (color) schema is defined via UpdateElementStyle() then the legend of existing elements is updated too.   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml  !$COLOR_A_5 = \"#7f3b08\" !$COLOR_A_4 = \"#b35806\" !$COLOR_A_3 = \"#e08214\" !$COLOR_A_2 = \"#fdb863\" !$COLOR_A_1 = \"#fee0b6\" !$COLOR_NEUTRAL = \"#f7f7f7\" !$COLOR_B_1 = \"#d8daeb\" !$COLOR_B_2 = \"#b2abd2\" !$COLOR_B_3 = \"#8073ac\" !$COLOR_B_4 = \"#542788\" !$COLOR_B_5 = \"#2d004b\" !$COLOR_REL_LINE = \"#8073ac\" !$COLOR_REL_TEXT = \"#8073ac\"  UpdateElementStyle(\"person\", $bgColor=$COLOR_A_5, $fontColor=$COLOR_NEUTRAL, $borderColor=$COLOR_A_1, $shadowing=\"true\") UpdateElementStyle(\"external_person\", $bgColor=$COLOR_B_5, $fontColor=$COLOR_NEUTRAL, $borderColor=$COLOR_B_1) UpdateElementStyle(\"system\", $bgColor=$COLOR_A_4, $fontColor=$COLOR_NEUTRAL, $borderColor=$COLOR_A_2) UpdateElementStyle(\"external_system\", $bgColor=$COLOR_B_4, $fontColor=$COLOR_NEUTRAL, $borderColor=$COLOR_B_2) UpdateRelStyle($lineColor=$COLOR_REL_LINE, $textColor=$COLOR_REL_TEXT)  Person(customer, \"Personal Banking Customer\") System(banking_system, \"Internet Banking System\")  System_Ext(mail_system, \"E-mail system\") System_Ext(mainframe, \"Mainframe Banking System\")  Rel(customer, banking_system, \"Uses\") Rel_Back(customer, mail_system, \"Sends e-mails to\") Rel_Neighbor(banking_system, mail_system, \"Sends e-mails\") Rel(banking_system, mainframe, \"Uses\")  SHOW_LEGEND() @enduml      Element properties   A model can be extended with (a table of) properties that concrete deployments or more detailed concepts can be documented:      SetPropertyHeader(col1Name, col2Name, ?col3Name, ?col4Name) The properties table can have up to 4 columns. The default header uses the column names â€œNameâ€, â€œDescriptionâ€.   WithoutPropertyHeader() If no header is used, then the second column is bold.   AddProperty(col1, col2, ?col3, ?col4) (All columns of) a property which will be added to the next element.   Following sample uses all 3 different property definitions (and the aligned deployment node).   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Deployment.puml  ' default header Property, Value AddProperty(\"Name\", \"Flash\") AddProperty(\"Organization\", \"Zootopia\") AddProperty(\"Tool\", \"Internet Explorer 7.0\") Person(personAlias, \"Label\", \"Optional Description (with default property header)\")  SetPropertyHeader(\"Property\",\"Value\", \"Description\") AddProperty(\"Prop1\", \"Value1\", \"Details1\") AddProperty(\"Prop2\", \"Value2\", \"Details2\") Deployment_Node_L(nodeAlias, \"Label\", \"Optional Type\", \"Optional Description (with custom property header)\") {    WithoutPropertyHeader()   AddProperty(\"PropC1\", \"ValueC1\")   AddProperty(\"PropC2\", \"ValueC2\")   Container(containerAlias, \"Label\", \"Technology\", \"Optional Description (without property header)\") }  System(systemAlias, \"Label\", \"Optional Description (without properties)\")  Rel(personAlias, containerAlias, \"Label\", \"Optional Technology\") @enduml      Version information   C4-PlantUML offers version information like PlantUML with its %version() call.      C4Version(): Current C4-PlantUML version (e.g. 2.4.0beta1).   C4VersionDetails(): (Floating) version details with the current PlantUML and C4-PlantUML version. (It can be referenced via the alias C4VersionDetailsArea.)   @startuml !include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml  ' existing plantuml version as text %version()  ' new C4-Plantuml version as text  C4Version()  ' new C4-Plantuml version details (incl. PlantUML version) as table C4VersionDetails()  ' version functions used in e.g. footer footer drawn with PlantUML v. %version() and C4-PlantUML v. C4Version() @enduml      Snippets for Visual Studio Code   Because the PlantUML support inside of Visual Studio Code is excellent with the PlantUML extension, you can also find VS Code snippets for C4-PlantUML at .vscode/C4.code-snippets.   Project level snippets are now supported in VSCode 1.28. Just include the C4.code-snippets file in the .vscode folder of your project.   It is possible to save them directly inside VS Code: Creating your own snippets.      Live Templates for IntelliJ   Prerequisites  Graphviz download  PlantUML Integration   Install      Download IntelliJ live template.   Select File | Manage IDE Settings | Import Settings from the IntelliJ IDEA menu.   Specify the path to the downloaded ZIP file: c4_live_template.zip.   In the Import Settings dialog, select the Live templates checkbox and click OK.   Restart IntelliJ.   Usage      Create new PlantUML file (.puml).   Type c4_ for displaying artifacts templates for C4-PlantUML   Live template create correct C4 model artifact with stubbed arguments.            E.g. alias, label, type, technology, description           Replace stubbed arguments with desired values.       Layout Options   C4-PlantUML also comes with some layout options to make it easy and reuseable to create nice and useful diagrams:      LAYOUT_TOP_DOWN or LAYOUT_LEFT_RIGHT   LAYOUT_WITH_LEGEND   LAYOUT_AS_SKETCH   Advanced Samples   The following advanced samples are reproductions with C4-PlantUML from official C4 model samples created by Simon Brown.   The core diagram samples from c4model.com are available here.   techtribes.js   Source: C4_Container Diagram Sample - techtribesjs.puml      Message Bus and Microservices   Source: C4_Container Diagram Sample - message bus.puml      Background   PlantUML is an open source project that allows you to create UML diagrams. Diagrams are defined using a simple and intuitive language. Images can be generated in PNG, in SVG or in LaTeX format.   PlantUML was created to allow the drawing of UML diagrams, using a simple and human readable text description. Because it does not prevent you from drawing inconsistent diagrams, it is a drawing tool and not a modeling tool. It is the most used text-based diagram drawing tool with extensive support into wikis and forums, text editors and IDEs, use by different programming languages and documentation generators.   The C4 model for software architecture is an â€œabstraction-firstâ€ approach to diagramming, based upon abstractions that reflect how software architects and developers think about and build software. The small set of abstractions and diagram types makes the C4 model easy to learn and use. C4 stands for context, containers, components, and code â€” a set of hierarchical diagrams that you can use to describe your software architecture at different zoom levels, each useful for different audiences.   The C4 model was created as a way to help software development teams describe and communicate software architecture, both during up-front design sessions and when retrospectively documenting an existing codebase.   More information can be found here:      The C4 model for software architecture   REAL WORLD PlantUML - Sample Gallery   Visualising and documenting software architecture cheat sheets   PlantUML and Structurizr - Create models not diagrams   License   This project is licensed under the MIT License - see the LICENSE file for details  ","categories": ["UML"],
        "tags": ["UML","C4"],
        "url": "/jekyll-blog/uml/plantUML-for-C4-model%E6%B1%89%E5%8C%96/",
        "teaser": "/jekyll-blog/assets/images/tease.jpg"
      }]
